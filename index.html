<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" id="viewport-meta" />
  <title>Bluebird OS</title>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="ui/default.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>

<body class="dark-theme medium-icons">
  <!-- Splash Screen -->
<div id="splash" aria-hidden="false">
  <div class="splash-container">
    <!-- Logo Container with PNG fallback to text,ahh the profile.png is just my custom logo,childhood photo but it can be replaced,oh no I placed this comment on the wrong place it was supposed to be on start menu section but am tired so for the wise puzzle solvers put it in the right place am really feeling headache I guess time to sleep  hope I do not forget to change it tommorrow goodnight VC,nlamn.dev  -->
    <div class="splash-logo-wrapper">
      <img 
        id="splash-logo-img" 
        src="/assets/logo.png" 
        alt="Bluebird OS Logo" 
        class="splash-logo-image"
        onerror="this.style.display='none'; document.getElementById('splash-logo-text').style.display='flex';"
      >
      <div id="splash-logo-text" class="splash-logo-text" style="display: none;">
        <div class="logo-text-main">
          <span class="logo-letter">B</span>
          <span class="logo-letter">L</span>
          <span class="logo-letter">U</span>
          <span class="logo-letter">E</span>
          <span class="logo-letter">B</span>
          <span class="logo-letter">I</span>
          <span class="logo-letter">R</span>
          <span class="logo-letter">D</span>
        </div>
        <div class="logo-text-sub">OPERATING SYSTEM</div>
      </div>
    </div>
    
    <!-- Animated Loading Text -->
    <div class="splash-loading">
      <div class="loading-text">
        <span class="loading-label">Starting</span>
        <span class="loading-dots">
          <span class="dot">.</span>
          <span class="dot">.</span>
          <span class="dot">.</span>
        </span>
      </div>
      <div class="loading-bar">
        <div class="loading-progress"></div>
      </div>
      <div class="loading-status" id="splash-status">Initializing system</div>
    </div>
    
    <!-- Version Info -->
    <div class="splash-version">Version 1.0.0</div>
  </div>
  
  <!-- Animated Background -->
  <div class="splash-bg">
    <div class="bg-gradient"></div>
    <div class="bg-particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>
  </div>
</div>
  <!-- Desktop -->
  <div id="desktop" aria-hidden="true" tabindex="0">
    <!-- Background Animation Canvas -->
<canvas id="bg-animation-canvas"></canvas>
    <!-- Wallpapers -->
    <div class="wallpaper active" id="wall-savannah" 
         style="background: linear-gradient(135deg, #071623 0%, #0b3b25 100%);"></div>
    <div class="wallpaper" id="wall-kampala" 
         style="background: linear-gradient(135deg, #05203f 0%, #0f5aa0 100%);"></div>
    <div class="wallpaper" id="wall-nile" 
         style="background: linear-gradient(135deg, #012338 0%, #1b9fe0 100%);"></div>
    <div class="wallpaper" id="wall-techlab" 
         style="background: linear-gradient(135deg, #1b1f2a 0%, #3a2b27 100%);"></div>
    <!-- custom wallpaper placeholder -->
    <div class="wallpaper" id="wall-custom" style="background: linear-gradient(135deg,#0f1724,#0b1220);"></div>
    <div class="wallpaper" id="wall-uploaded" style="background-size: cover; background-position: center;"></div>

    <!-- Desktop Icons -->
  <!-- Desktop Icons - Enhanced Windows 11 Style -->
<div class="desktop-icons" id="desktop-icons">
  
  <!-- System Apps -->
  <div class="icon" onclick="openWindow('file-explorer-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="20" y="20" width="60" height="60" rx="5" fill="rgba(66, 133, 244, 0.1)"/>
        <rect x="25" y="25" width="50" height="40" rx="2" fill="rgba(66, 133, 244, 0.2)"/>
        <rect x="30" y="45" width="40" height="30" rx="2" fill="rgba(66, 133, 244, 0.3)"/>
        <path d="M40 35 L60 35" stroke="#4285f4" stroke-width="3" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="icon-label">File Explorer</div>
  </div>

  <div class="icon" onclick="openWindow('settings-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="35" fill="none" stroke="#9c27b0" stroke-width="4"/>
        <circle cx="50" cy="50" r="25" fill="none" stroke="#9c27b0" stroke-width="4" stroke-dasharray="3,6"/>
        <circle cx="50" cy="50" r="10" fill="#9c27b0"/>
        <circle cx="70" cy="30" r="8" fill="#9c27b0"/>
        <circle cx="30" cy="30" r="8" fill="#9c27b0"/>
        <circle cx="70" cy="70" r="8" fill="#9c27b0"/>
        <circle cx="30" cy="70" r="8" fill="#9c27b0"/>
      </svg>
    </div>
    <div class="icon-label">Settings</div>
  </div>

  <div class="icon" onclick="openWindow('panel-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="15" y="15" width="70" height="70" rx="8" fill="rgba(255, 152, 0, 0.1)" stroke="#ff9800" stroke-width="3"/>
        <rect x="25" y="25" width="20" height="20" rx="4" fill="#ff9800" opacity="0.8"/>
        <rect x="55" y="25" width="20" height="20" rx="4" fill="#ff9800" opacity="0.6"/>
        <rect x="25" y="55" width="20" height="20" rx="4" fill="#ff9800" opacity="0.4"/>
        <rect x="55" y="55" width="20" height="20" rx="4" fill="#ff9800" opacity="0.2"/>
      </svg>
    </div>
    <div class="icon-label">Control Panel</div>
  </div>

  <div class="icon" onclick="window.open('https://www.google.com', '_blank')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="40" fill="#4285f4"/>
        <path d="M30 40 L70 40 L70 70 L50 50 L30 70 Z" fill="white"/>
        <circle cx="65" cy="35" r="8" fill="#ea4335"/>
        <circle cx="50" cy="65" r="8" fill="#34a853"/>
        <circle cx="35" cy="35" r="8" fill="#fbbc05"/>
      </svg>
    </div>
    <div class="icon-label">Browser</div>
  </div>

  <!-- Productivity Apps -->
  <div class="icon" onclick="openWindow('inspireboard-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="30" r="20" fill="#0078d4" opacity="0.2"/>
        <path d="M50 15 L50 45 M35 30 L65 30" stroke="#0078d4" stroke-width="3" stroke-linecap="round"/>
        <rect x="35" y="55" width="30" height="35" rx="3" fill="none" stroke="#0078d4" stroke-width="2"/>
      </svg>
    </div>
    <div class="icon-label">InspireBoard</div>
  </div>
  
  <div class="icon" onclick="openWindow('birdshell-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="20" y="25" width="60" height="50" rx="4" fill="none" stroke="#0078d4" stroke-width="2"/>
        <path d="M25 35 H75" stroke="#0078d4" stroke-width="2"/>
        <circle cx="32" cy="30" r="3" fill="#ff6b6b"/>
        <circle cx="40" cy="30" r="3" fill="#ffd93d"/>
      </svg>
    </div>
    <div class="icon-label">BirdShell</div>
  </div>

  <!-- Personal -->
  <div class="icon" onclick="openWindow('claude-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="25" fill="#0078d4" opacity="0.15"/>
        <path d="M40 45 Q50 35 60 45 M40 55 Q50 65 60 55" stroke="#0078d4" stroke-width="3" fill="none"/>
      </svg>
    </div>
    <div class="icon-label">Claude</div>
  </div>
  
  <!-- Documents -->
  <div class="icon" onclick="openWindow('resume-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="25" y="25" width="50" height="60" rx="4" fill="rgba(0,120,212,0.1)"/>
        <path d="M35 40 H65 M35 50 H55 M35 60 H45" stroke="#0078d4" stroke-width="3" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="icon-label">Resume</div>
  </div>

  <div class="icon" onclick="openWindow('projects-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="25" y="40" width="50" height="10" rx="2" fill="#0078d4"/>
        <rect x="20" y="55" width="60" height="10" rx="2" fill="#0078d4" opacity="0.7"/>
      </svg>
    </div>
    <div class="icon-label">Projects</div>
  </div>

  <!-- Network -->
  <div class="icon" onclick="openWindow('connect-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <path d="M25 60 Q40 40 75 60" stroke="#0078d4" stroke-width="3" fill="none"/>
        <circle cx="50" cy="50" r="20" stroke="#0078d4" stroke-width="2" fill="none"/>
      </svg>
    </div>
    <div class="icon-label">Connect</div>
  </div>

  <!-- Website -->
  <div class="icon" onclick="window.open('https://bluebirduganda.dpnds.org', '_blank')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="30" stroke="#0078d4" stroke-width="2" fill="none"/>
        <path d="M40 40 L60 60 M60 40 L40 60" stroke="#0078d4" stroke-width="3"/>
      </svg>
    </div>
    <div class="icon-label">Bluebird Site</div>
  </div>

  <!-- More System Apps -->
  <div class="icon" onclick="openWindow('terminal-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="20" y="25" width="60" height="50" rx="4" fill="#1e1e1e"/>
        <path d="M35 40 L45 50 L35 60" stroke="#00ff00" stroke-width="4" fill="none"/>
        <path d="M55 45 H65" stroke="#00ff00" stroke-width="4" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="icon-label">Terminal</div>
  </div>

  <div class="icon" onclick="openWindow('calculator-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="20" y="20" width="60" height="60" rx="5" fill="rgba(76, 175, 80, 0.1)"/>
        <rect x="30" y="30" width="40" height="40" rx="3" fill="rgba(76, 175, 80, 0.2)"/>
        <path d="M40 45 H60 M40 55 H60 M45 50 V60" stroke="#4caf50" stroke-width="3" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="icon-label">Calculator</div>
  </div>

  <div class="icon" onclick="openWindow('gallery-win')" 
       oncontextmenu="event.preventDefault(); showIconContextMenu(event, this);">
    <div class="icon-img">
      <svg viewBox="0 0 100 100">
        <rect x="20" y="20" width="60" height="60" rx="5" fill="rgba(255, 87, 34, 0.1)"/>
        <circle cx="40" cy="40" r="15" fill="#ff5722" opacity="0.6"/>
        <circle cx="60" cy="60" r="12" fill="#ff9800" opacity="0.8"/>
        <rect x="45" y="30" width="20" height="15" rx="3" fill="#2196f3" opacity="0.7"/>
      </svg>
    </div>
    <div class="icon-label">Gallery</div>
  </div>
</div>

<!-- Desktop Context Menu -->
<div class="desktop-context-menu" id="desktop-context-menu">
  <div class="context-menu-item" onclick="createNewFolder()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M14 4H9.5L8.5 3H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 10H4V5h4.5l1 1H14v8z"/>
    </svg>
    <span>New</span>
    <span class="context-menu-arrow">â–¶</span>
    <div class="context-submenu">
      <div class="context-menu-item" onclick="createNewFolder()">Folder</div>
      <div class="context-menu-item" onclick="createNewTextFile()">Text Document</div>
      <div class="context-menu-item" onclick="createNewShortcut()">Shortcut</div>
    </div>
  </div>
  <div class="context-menu-divider"></div>
  <div class="context-menu-item" onclick="showDisplaySettings()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M15 8c0 .28-.22.5-.5.5H13v4.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V8.5H9v5.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V8.5H5v5.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V8.5H1.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5H3V3.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V7h2V1.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V7h2V2.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V7h1.5c.28 0 .5.22.5.5z"/>
    </svg>
    Display settings
  </div>
  <div class="context-menu-item" onclick="showPersonalization()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"/>
      <circle cx="8" cy="8" r="2.5"/>
    </svg>
    Personalize
  </div>
  <div class="context-menu-item" onclick="refreshDesktop()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M8 3V1.5c0-.28.22-.5.5-.5s.5.22.5.5v1.53c3.2.4 5.73 3.1 5.73 6.47 0 3.6-2.93 6.5-6.5 6.5S1.5 12.1 1.5 8.5c0-1.8.73-3.4 1.9-4.6l1.1 1.1c.2.2.5.2.7 0 .2-.2.2-.5 0-.7L3.6 2.7c-.2-.2-.5-.2-.7 0L1.1 4.6c-.2.2-.2.5 0 .7.2.2.5.2.7 0l1.1-1.1C1.7 4.6 1 6.4 1 8.5 1 12.6 4.4 16 8.5 16S16 12.6 16 8.5c0-3.5-2.5-6.4-5.8-7.1v1.6c0 .28-.22.5-.5.5s-.5-.22-.5-.5V3c0-.28.22-.5.5-.5H8.5c.28 0 .5.22.5.5z"/>
    </svg>
    Refresh
  </div>
  <div class="context-menu-divider"></div>
  <div class="context-menu-item" onclick="showViewOptions()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M15 8c0 1.7-2.2 4-7 4s-7-2.3-7-4 2.2-4 7-4 7 2.3 7 4z"/>
      <circle cx="8" cy="8" r="2.5"/>
    </svg>
    View
    <span class="context-menu-arrow">â–¶</span>
    <div class="context-submenu">
      <div class="context-menu-item" onclick="setIconSize('small')">Small icons</div>
      <div class="context-menu-item" onclick="setIconSize('medium')">Medium icons</div>
      <div class="context-menu-item" onclick="setIconSize('large')">Large icons</div>
      <div class="context-menu-divider"></div>
      <div class="context-menu-item" onclick="toggleAutoArrange()">Auto arrange icons</div>
      <div class="context-menu-item" onclick="toggleAlignToGrid()">Align icons to grid</div>
    </div>
  </div>
  <div class="context-menu-item" onclick="showSortByOptions()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M4 6h8v1H4zm0 3h8v1H4zm0 3h8v1H4z"/>
    </svg>
    Sort by
    <span class="context-menu-arrow">â–¶</span>
    <div class="context-submenu">
      <div class="context-menu-item" onclick="sortIcons('name')">Name</div>
      <div class="context-menu-item" onclick="sortIcons('size')">Size</div>
      <div class="context-menu-item" onclick="sortIcons('type')">Item type</div>
      <div class="context-menu-item" onclick="sortIcons('date')">Date modified</div>
    </div>
  </div>
  <div class="context-menu-divider"></div>
  <div class="context-menu-item" onclick="showPasteOption()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M13 3h-2V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H3c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM6 2h4v1H6V2zm7 11H3V4h2v1h6V4h2v9z"/>
    </svg>
    Paste
  </div>
  <div class="context-menu-item" onclick="showDesktopProperties()">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm.5-10h-1v5l3.2 2 .8-1.2-2.5-1.5V4z"/>
    </svg>
    Properties
  </div>
</div>


    <!-- Windows -->
     <!-- Inspire board was originally just for my blog but found it interesting to make it global for users to create their own ideas,nlamn.dev-->
    <div id="inspireboard-win" class="window" style="width:900px; height:650px; top:8%; left:10%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <svg viewBox="0 0 24 24" style="width:18px;"><circle cx="12" cy="8" r="5" fill="currentColor" opacity="0.3"/><path d="M12 3v10M7 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      InspireBoard - Share Your Ideas
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('inspireboard-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('inspireboard-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('inspireboard-win')">âœ•</div>
    </div>
  </div>
  <div class="window-body" style="padding:0; overflow:hidden; display:flex; flex-direction:column; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    
    <!-- InspireBoard Header -->
    <div style="padding:1.5rem; text-align:center; background: rgba(255,255,255,0.05); backdrop-filter: blur(10px);">
      <div style="font-size:2rem; margin-bottom:0.5rem;">ğŸ’¡</div>
      <h2 style="color:#fff; font-size:1.5rem; margin-bottom:0.3rem; font-weight:700;">InspireBoard</h2>
      <p style="color:rgba(255,255,255,0.9); font-size:0.9rem;">Share Your Ideas â€¢ Inspire Others â€¢ Build Together</p>
    </div>

    <!-- Action Bar -->
    <div style="padding:1rem; display:flex; gap:0.8rem; flex-wrap:wrap; background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1);">
      <button onclick="openInspireCreate()" style="padding:0.6rem 1.2rem; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color:white; border:none; border-radius:8px; cursor:pointer; font-weight:600; display:flex; align-items:center; gap:0.5rem; box-shadow: 0 4px 12px rgba(245,87,108,0.3);">
        <span>âœ¨</span> New Idea
      </button>
      <input type="text" id="inspire-search" placeholder="Search ideas..." oninput="filterInspireIdeas()" style="flex:1; min-width:200px; padding:0.6rem 1rem; border:none; border-radius:8px; background:rgba(255,255,255,0.9); outline:none;">
      <select id="inspire-filter" onchange="filterInspireIdeas()" style="padding:0.6rem 1rem; border:none; border-radius:8px; background:rgba(255,255,255,0.9); cursor:pointer; font-weight:600;">
        <option value="all">All Categories</option>
        <option value="tech">ğŸ’» Tech</option>
        <option value="design">ğŸ¨ Design</option>
        <option value="business">ğŸ’¼ Business</option>
        <option value="life">ğŸŒŸ Life</option>
        <option value="education">ğŸ“š Education</option>
      </select>
    </div>

    <!-- Ideas Grid -->
    <div id="inspire-grid" style="flex:1; overflow-y:auto; padding:1.5rem; display:grid; grid-template-columns:repeat(auto-fill, minmax(280px, 1fr)); gap:1rem; align-content:start;">
      <!-- Ideas will be rendered here -->
    </div>
  </div>
  <div class="window-resize" onmousedown="startResize(event, 'inspireboard-win')"></div>
</div>

<!-- InspireBoard Create/Edit Modal -->
<div id="inspire-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:3500; align-items:center; justify-content:center; backdrop-filter:blur(5px); padding:1rem;">
  <div style="background:#fff; border-radius:16px; max-width:600px; width:100%; max-height:90vh; overflow-y:auto; box-shadow:0 25px 80px rgba(0,0,0,0.5);">
    <div style="padding:1.5rem; border-bottom:1px solid #e2e8f0; display:flex; justify-content:space-between; align-items:center;">
      <h3 style="color:#2d3748; font-size:1.3rem; margin:0;" id="inspire-modal-title">Create New Idea</h3>
      <button onclick="closeInspireModal()" style="background:none; border:none; font-size:2rem; color:#a0aec0; cursor:pointer; line-height:1; padding:0; width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center;">Ã—</button>
    </div>
    <div style="padding:1.5rem;">
      <form id="inspire-form" onsubmit="saveInspireIdea(event)">
        <!-- Icon Picker -->
        <div style="margin-bottom:1.2rem;">
          <label style="display:block; font-weight:600; color:#2d3748; margin-bottom:0.5rem; font-size:0.9rem;">Choose an Icon</label>
          <div style="display:grid; grid-template-columns:repeat(8, 1fr); gap:0.5rem;">
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ’¡')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ’¡</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸš€')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸš€</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ¨')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ¨</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ’¼')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ’¼</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ“š')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ“š</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸŒŸ')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸŒŸ</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ¯')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ¯</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ’»')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ’»</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ­')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ­</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ†')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ†</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ”¥')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ”¥</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('âœ¨')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">âœ¨</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸŒˆ')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸŒˆ</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('âš¡')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">âš¡</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸª')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸª</button>
            <button type="button" class="inspire-emoji" onclick="selectInspireEmoji('ğŸ¸')" style="background:#f7fafc; border:2px solid transparent; border-radius:8px; font-size:1.5rem; cursor:pointer; padding:0.5rem; transition:all 0.2s;">ğŸ¸</button>
          </div>
          <input type="hidden" id="inspire-icon" value="ğŸ’¡">
        </div>

        <!-- Title -->
        <div style="margin-bottom:1.2rem;">
          <label style="display:block; font-weight:600; color:#2d3748; margin-bottom:0.5rem; font-size:0.9rem;">Title</label>
          <input type="text" id="inspire-title" required style="width:100%; padding:0.8rem 1rem; border:2px solid #e2e8f0; border-radius:10px; font-size:1rem; outline:none;" placeholder="Give your idea a catchy title...">
        </div>

        <!-- Category -->
        <div style="margin-bottom:1.2rem;">
          <label style="display:block; font-weight:600; color:#2d3748; margin-bottom:0.5rem; font-size:0.9rem;">Category</label>
          <select id="inspire-category" required style="width:100%; padding:0.8rem 1rem; border:2px solid #e2e8f0; border-radius:10px; font-size:1rem; cursor:pointer; outline:none;">
            <option value="tech">ğŸ’» Technology</option>
            <option value="design">ğŸ¨ Design</option>
            <option value="business">ğŸ’¼ Business</option>
            <option value="life">ğŸŒŸ Life</option>
            <option value="education">ğŸ“š Education</option>
          </select>
        </div>

        <!-- Description -->
        <div style="margin-bottom:1.2rem;">
          <label style="display:block; font-weight:600; color:#2d3748; margin-bottom:0.5rem; font-size:0.9rem;">Description</label>
          <textarea id="inspire-description" required style="width:100%; padding:0.8rem 1rem; border:2px solid #e2e8f0; border-radius:10px; font-size:1rem; resize:vertical; min-height:120px; font-family:inherit; outline:none;" placeholder="Describe your idea in detail..."></textarea>
        </div>

        <input type="hidden" id="inspire-edit-id">

        <!-- Buttons -->
        <div style="display:flex; gap:0.8rem; justify-content:flex-end;">
          <button type="button" onclick="closeInspireModal()" style="padding:0.7rem 1.5rem; background:rgba(0,0,0,0.05); border:1px solid #e2e8f0; border-radius:8px; cursor:pointer; font-weight:600;">Cancel</button>
          <button type="submit" style="padding:0.7rem 1.5rem; background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:white; border:none; border-radius:8px; cursor:pointer; font-weight:600; box-shadow:0 4px 12px rgba(102,126,234,0.3);">
            âœ¨ Save Idea
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
    <div id="birdshell-win" class="window" style="width:800px; height:600px; top:10%; left:15%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <svg viewBox="0 0 24 24" style="width:18px;"><rect x="3" y="3" width="18" height="18" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><path d="M3 9h18M9 21V9" stroke="currentColor" stroke-width="2"/></svg>
      BirdShell Terminal
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('birdshell-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('birdshell-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('birdshell-win')">âœ•</div>
    </div>
  </div>
  <div class="window-body" style="padding:0;">
    <iframe id="birdshell-frame" src="terminal.html" style="width:100%; height:100%; border:none; background:#0a0e14;"></iframe>
  </div>
  <div class="window-resize" onmousedown="startResize(event, 'birdshell-win')"></div>
</div>
<div id="claude-win" class="window" style="width:700px; height:650px; top:8%; left:18%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
        <circle cx="12" cy="12" r="10" opacity="0.2"/>
      </svg>
      Comfort Claude AI Assistant
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('claude-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('claude-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('claude-win')">âœ•</div>
    </div>
  </div>
  <div class="window-body" style="padding:0; display:flex; flex-direction:column; height:100%;">
    
    <!-- Quick Actions Bar -->
    <div id="claude-quick-actions" style="padding:0.8rem 1rem; border-bottom:1px solid rgba(255,255,255,0.06); background:linear-gradient(135deg, rgba(74,222,128,0.05), rgba(34,197,94,0.02)); display:flex; gap:0.6rem; overflow-x:auto; flex-wrap:nowrap;">
      <button onclick="toggleVoiceOutput()" class="claude-action-btn" title="Text-to-Speech">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
        </svg>
        <span>Voice</span>
      </button>
      
      <button onclick="listTasks('pending')" class="claude-action-btn" title="View Tasks">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 11l3 3L22 4"/>
          <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
        </svg>
        <span>Tasks</span>
      </button>
      
      <button onclick="listUpcomingEvents()" class="claude-action-btn" title="View Calendar">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        <span>Calendar</span>
      </button>
      
      <button onclick="showProductivityDashboard()" class="claude-action-btn" title="Analytics">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="20" x2="18" y2="10"/>
          <line x1="12" y1="20" x2="12" y2="4"/>
          <line x1="6" y1="20" x2="6" y2="14"/>
        </svg>
        <span>Stats</span>
      </button>
      
      <button onclick="toggleFocusMode()" class="claude-action-btn" title="Focus Mode">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <circle cx="12" cy="12" r="10"/>
        </svg>
        <span>Focus</span>
      </button>
      
      <button onclick="showClaudeSettings()" class="claude-action-btn" title="Settings">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <path d="M12 1v6m0 6v6"/>
          <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"/>
          <path d="M1 12h6m6 0h6"/>
          <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"/>
        </svg>
        <span>Settings</span>
      </button>
    </div>

    <!-- Chat Messages -->
    <div id="claude-chat" style="flex:1; overflow-y:auto; padding:1rem; display:flex; flex-direction:column; gap:0.8rem; background:rgba(0,0,0,0.02);">
      <!-- Messages will be added here -->
    </div>
    
    <!-- Smart Suggestions -->
    <div id="claude-suggestions" style="display:none; padding:0.5rem 1rem; border-top:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02); max-height:200px; overflow-y:auto;">
      <!-- Suggestions appear here -->
    </div>
    
    <!-- Advanced Options Bar -->
    <div style="padding:0.6rem 1rem; border-top:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02); display:flex; gap:0.5rem; flex-wrap:wrap; justify-content:space-between; align-items:center;">
      <div style="display:flex; gap:0.5rem; flex-wrap:wrap;">
        <button onclick="showLearningStats()" class="claude-mini-btn" title="Learning Statistics">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44"/>
            <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44"/>
          </svg>
          Stats
        </button>
        <button onclick="exportConversationHistory()" class="claude-mini-btn" title="Export Conversation">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          Export
        </button>
        <button onclick="clearConversationHistory()" class="claude-mini-btn" title="Clear History">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"/>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
          </svg>
          Clear
        </button>
        <button onclick="showClipboardHistory()" class="claude-mini-btn" title="Clipboard History">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
          </svg>
          Clipboard
        </button>
      </div>
      <div style="font-size:0.7rem; color:#9fbf9f; display:flex; align-items:center; gap:0.3rem;">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44"/>
          <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44"/>
        </svg>
        AI-Powered
      </div>
    </div>
    
    <!-- Knowledge File Upload -->
    <div style="padding:0.8rem 1rem; border-top:1px solid rgba(255,255,255,0.06); background:linear-gradient(135deg, rgba(74,222,128,0.03), rgba(34,197,94,0.01));">
      <div style="display:flex; gap:0.5rem; align-items:center; margin-bottom:0.5rem; flex-wrap:wrap;">
        <label class="claude-upload-btn">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="17 8 12 3 7 8"/>
            <line x1="12" y1="3" x2="12" y2="15"/>
          </svg>
          <span>Upload Knowledge</span>
          <input type="file" id="claude-knowledge-upload" accept=".txt" onchange="uploadKnowledge(event)" style="display:none;">
        </label>
        <span id="knowledge-status" style="font-size:11px; color:#9fbf9f;"></span>
      </div>
      <div id="knowledge-files" style="display:flex; flex-wrap:wrap; gap:0.4rem;"></div>
    </div>
    
    <!-- Input Area -->
    <div style="padding:1rem; border-top:2px solid rgba(74,222,128,0.2); background:linear-gradient(135deg, rgba(74,222,128,0.05), rgba(34,197,94,0.02));">
      <div style="display:flex; gap:0.5rem; align-items:center;">
        <div style="position:relative; flex:1;">
          <input 
            type="text" 
            id="claude-input" 
            placeholder="Ask me anything... ğŸ’¬"
            style="width:100%; padding:0.9rem 1rem; padding-left:2.5rem; background:rgba(255,255,255,0.08); border:2px solid rgba(74,222,128,0.2); border-radius:12px; color:var(--text); outline:none; font-size:0.95rem; transition:all 0.2s;"
            onkeypress="if(event.key==='Enter') sendToClaude()"
            oninput="showSmartSuggestions(this.value)"
            onfocus="this.style.borderColor='var(--accent)'; this.style.background='rgba(255,255,255,0.12)'"
            onblur="this.style.borderColor='rgba(74,222,128,0.2)'; this.style.background='rgba(255,255,255,0.08)'"
          />
          <svg style="position:absolute; left:0.8rem; top:50%; transform:translateY(-50%); opacity:0.5;" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </div>
        
        <button onclick="toggleVoiceInput()" id="voice-btn" class="claude-input-btn" title="Voice Input">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
            <line x1="12" y1="19" x2="12" y2="23"/>
            <line x1="8" y1="23" x2="16" y2="23"/>
          </svg>
        </button>
        
        <button onclick="sendToClaude()" class="claude-send-btn" title="Send Message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <line x1="22" y1="2" x2="11" y2="13"/>
            <polygon points="22 2 15 22 11 13 2 9 22 2"/>
          </svg>
        </button>
      </div>
      <div id="voice-status" style="font-size:11px; color:var(--accent); margin-top:0.5rem; display:none; display:flex; align-items:center; gap:0.3rem;">
        <span class="recording-dot"></span>
        <span>Listening...</span>
      </div>
    </div>
  </div>
  <div class="window-resize" onmousedown="startResize(event, 'claude-win')"></div>
</div>

<!-- Claude Settings Modal -->
<div id="claude-settings-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:9999; align-items:center; justify-content:center; backdrop-filter:blur(5px); padding:1rem;">
  <div style="background:linear-gradient(135deg, rgba(15,23,36,0.98), rgba(11,18,32,0.95)); backdrop-filter:blur(20px); border-radius:20px; max-width:600px; width:100%; max-height:90vh; overflow-y:auto; border:2px solid rgba(74,222,128,0.2); box-shadow:0 25px 80px rgba(0,0,0,0.6);">
    <div style="padding:1.5rem; border-bottom:2px solid rgba(74,222,128,0.2); display:flex; justify-content:space-between; align-items:center; background:linear-gradient(135deg, rgba(74,222,128,0.1), rgba(34,197,94,0.05));">
      <h2 style="color:var(--text); font-size:1.5rem; margin:0; display:flex; align-items:center; gap:0.8rem;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <path d="M12 1v6m0 6v6"/>
          <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"/>
          <path d="M1 12h6m6 0h6"/>
          <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"/>
        </svg>
        Claude Settings
      </h2>
      <button onclick="closeClaudeSettings()" style="background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2); border-radius:50%; width:40px; height:40px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:var(--text); font-size:1.5rem; transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">Ã—</button>
    </div>
    
    <div style="padding:1.5rem;">
      <!-- Personality Mode -->
      <div style="margin-bottom:1.5rem;">
        <label style="display:block; color:var(--text); font-weight:600; margin-bottom:0.8rem; display:flex; align-items:center; gap:0.5rem;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
          Personality Mode
        </label>
        <div style="display:grid; grid-template-columns:repeat(2, 1fr); gap:0.8rem;">
          <button onclick="changePersonality('professional')" class="personality-btn" data-mode="professional">
            ğŸ’¼ Professional
          </button>
          <button onclick="changePersonality('casual')" class="personality-btn" data-mode="casual">
            ğŸ˜Š Casual
          </button>
          <button onclick="changePersonality('motivational')" class="personality-btn" data-mode="motivational">
            ğŸš€ Motivational
          </button>
          <button onclick="changePersonality('funny')" class="personality-btn" data-mode="funny">
            ğŸ˜„ Funny
          </button>
        </div>
      </div>
      
      <!-- Language -->
      <div style="margin-bottom:1.5rem;">
        <label style="display:block; color:var(--text); font-weight:600; margin-bottom:0.8rem; display:flex; align-items:center; gap:0.5rem;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="m5 8 6 6"/>
            <path d="m4 14 6-6 2-3"/>
            <path d="M2 5h12"/>
            <path d="M7 2h1"/>
            <path d="m22 22-5-10-5 10"/>
            <path d="M14 18h6"/>
          </svg>
          Language
        </label>
        <select id="claude-language-select" onchange="changeLanguage(this.value)" style="width:100%; padding:0.8rem; background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.2); border-radius:8px; color:var(--text); cursor:pointer; font-size:0.95rem;">
          <option value="en">ğŸ‡ºğŸ‡¸ English</option>
          <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
          <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
          <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
          <option value="sw">ğŸ‡°ğŸ‡ª Kiswahili</option>
          <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
          <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
          <option value="pt">ğŸ‡§ğŸ‡· PortuguÃªs</option>
          <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
        </select>
      </div>
      
      <!-- User Name -->
      <div style="margin-bottom:1.5rem;">
        <label style="display:block; color:var(--text); font-weight:600; margin-bottom:0.8rem;">
          Your Name
        </label>
        <input type="text" id="claude-username-input" placeholder="Enter your name" value="" style="width:100%; padding:0.8rem; background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.2); border-radius:8px; color:var(--text); font-size:0.95rem;" onchange="updateUserName(this.value)">
      </div>
      
      <!-- Voice Settings -->
      <div style="margin-bottom:1.5rem;">
        <label style="display:flex; align-items:center; gap:0.5rem; cursor:pointer; padding:0.8rem; background:rgba(255,255,255,0.05); border-radius:8px; transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
          <input type="checkbox" id="claude-voice-checkbox" onchange="toggleVoiceOutput()" style="width:18px; height:18px; cursor:pointer;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
          </svg>
          <span style="color:var(--text); font-weight:500;">Enable Voice Output (Text-to-Speech)</span>
        </label>
      </div>
      
      <!-- Save Button -->
      <button onclick="closeClaudeSettings()" style="width:100%; padding:1rem; background:linear-gradient(135deg, var(--accent), #22c55e); color:#000; border:none; border-radius:10px; font-weight:700; font-size:1rem; cursor:pointer; box-shadow:0 4px 15px rgba(74,222,128,0.3); transition:all 0.2s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(74,222,128,0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(74,222,128,0.3)'">
        Save & Close
      </button>
    </div>
  </div>
</div>
<!-- Claude -->
<div id="resume-win" class="window" style="width:860px; height:600px; top:10%; left:10%;">
  <div class="window-header">
    <div class="window-title">
      <svg viewBox="0 0 24 24" style="width:18px;">
        <path fill="currentColor"
          d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2Z"/>
      </svg>
      Professional Resume â€” Norbert Lamn
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('resume-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('resume-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('resume-win')">âœ•</div>
    </div>
  </div>

  <div class="window-body resume-body">

    <!-- HEADER -->
    <header class="resume-header">
      <h1>Norbert Lamn</h1>
      <p class="resume-role">
        Student Software Developer Â· Open-Source OS Designer Â· Web & Systems Enthusiast
      </p>
    </header>

    <!-- GRID -->
    <div class="resume-grid">

      <!-- LEFT COLUMN -->
      <div>

        <section>
          <h3>Professional Summary</h3>
          <p>
            Motivated student software developer and founder of the
            <strong>Bluebird OS</strong> project â€” an experimental OS-style platform
            built to explore modern UI design, system concepts, and cross-platform
            development. Strong interest in operating systems, developer tools,
            and accessible technology education.
          </p>
        </section>

        <section>
          <h3>Core Project</h3>
          <p class="project-title">Bluebird OS (Open Source)</p>
          <ul>
            <li>Designed a desktop-like environment with window management and task controls</li>
            <li>Implemented custom shell <em>(BirdShell)</em> for command-style interaction</li>
            <li>Built modular web applications integrated into the OS interface</li>
            <li>Created scalable SVG icon libraries and OS-style UI components</li>
            <li>Maintained a large single-file prototype (8,000+ lines) and planned modular refactor</li>
            <li>Researching migration to C++ and Qt for performance and portability</li>
          </ul>
        </section>

        <section>
          <h3>Additional Experience</h3>
          <ul>
            <li>Experimental real-time chat application (learning authentication & messaging flows)</li>
            <li>OS-style web launchers and dashboards</li>
            <li>UI/UX experiments inspired by Windows and Linux desktop environments</li>
          </ul>
        </section>

        <section>
          <h3>Education</h3>
          <p>
            <strong>Secondary School Student</strong><br>
            Focus areas: Computer Science fundamentals, logic, and applied programming
          </p>
        </section>

      </div>

      <!-- RIGHT COLUMN -->
      <div>

        <section>
          <h3>Technical Skills</h3>
          <ul class="skills">
            <li>HTML, CSS, JavaScript</li>
            <li>Linux (Ubuntu Command Line)</li>
            <li>Git & GitHub</li>
            <li>C++ (learning)</li>
            <li>Kotlin (learning)</li>
            <li>Jetpack Compose (learning)</li>
          </ul>
        </section>

        <section>
          <h3>Tools & Platforms</h3>
          <ul>
            <li>VS Code</li>
            <li>Chrome DevTools</li>
            <li>GitHub Actions (basic)</li>
            <li>Qt Framework (exploring)</li>
          </ul>
        </section>

        <section>
          <h3>Development Interests</h3>
          <ul>
            <li>Operating systems & shells</li>
            <li>Cross-platform desktop apps</li>
            <li>Performance-focused UI design</li>
            <li>Open-source ecosystems</li>
          </ul>
        </section>

        <section>
          <h3>Vision</h3>
          <p>
            To build lightweight, accessible software platforms that help students
            learn real computing concepts through practical experimentation.
          </p>
        </section>

        <section>
          <h3>References</h3>
          <p>
            Available upon request<br>
            Open-source work available for public review
          </p>
        </section>

      </div>

    </div>

    <!-- FOOTER -->
    <footer class="resume-footer">
      <span>Bluebird OS Project</span>
      <a href="https://bluebirduganda.dpnds.org" target="_blank">
        bluebirduganda.dpnds.org
      </a>
    </footer>

  </div>

  <div class="window-resize" onmousedown="startResize(event, 'resume-win')"></div>
</div>

    <div id="projects-win" class="window" style="width:900px; height:580px; top:10%; left:8%;">
      <div class="window-header">
        <div class="window-title">
          <svg viewBox="0 0 24 24" style="width:18px;"><path fill="currentColor" d="M20,18H4V8H20M20,6H12L10,4H4"/></svg>
          Bluebird Projects
        </div>
        <div class="window-controls">
          <div class="win-btn win-min" onclick="minimizeWindow('projects-win')">âˆ’</div>
          <div class="win-btn win-max" onclick="maximizeWindow('projects-win')">â–¡</div>
          <div class="win-btn win-close" onclick="closeWindow('projects-win')">âœ•</div>
        </div>
      </div>
      <div class="window-body">
        <div class="projects-grid">
          <div class="project-card">
            <h3 style="color:var(--accent);">BluebirdU Learn</h3>
            <div class="project-tags">
              <span class="tag">Education</span>
            </div>
            <p>Interactive platform for Ugandan students to learn web dev with offline-first PWAs.</p>
            <a href="https://bluebirduganda.dpnds.org" target="_blank" class="card-btn" style="color:var(--accent);">ğŸŒ Demo</a>
            <a href="https://github.com/bluebird-ug" target="_blank" class="card-btn" style="color:var(--accent);">ğŸ™ GitHub</a>
          </div>
        </div>
      </div>
      <div class="window-resize" onmousedown="startResize(event, 'projects-win')"></div>
    </div>

    <div id="connect-win" class="window" style="width:550px; height:420px; top:22%; left:25%;">
      <div class="window-header">
        <div class="window-title">
          <svg viewBox="0 0 24 24" style="width:18px;"><path fill="currentColor" d="M20,8C20,9.1 19.1,10 18,10"/></svg>
          Let's Connect
        </div>
        <div class="window-controls">
          <div class="win-btn win-min" onclick="minimizeWindow('connect-win')">âˆ’</div>
          <div class="win-btn win-max" onclick="maximizeWindow('connect-win')">â–¡</div>
          <div class="win-btn win-close" onclick="closeWindow('connect-win')">âœ•</div>
        </div>
      </div>
      <div class="window-body">
        <p><strong>ğŸ“§ Email:</strong><br><a href="mailto:norbert@bluebirduganda.org" style="color:var(--accent);">norbert@bluebirduganda.org</a></p>
        <p><strong>ğŸ“± WhatsApp:</strong><br><a href="https://wa.me/256700000000" style="color:var(--accent);">+256 700 000 000</a></p>
        <p><strong>ğŸ’¬ Telegram:</strong><br><a href="https://t.me/norbert_bluebird" style="color:var(--accent);">@norbert_bluebird</a></p>
        <p><strong>ğŸ—“ Schedule:</strong><br><a href="https://calendly.com/norbert-bluebird/15min" target="_blank" style="color:var(--accent);">15-min intro call</a></p>
      </div>
      <div class="window-resize" onmousedown="startResize(event, 'connect-win')"></div>
    </div>

    <!-- Settings Window (extended with appearance & behavior options) -->
 
<div id="settings-win" class="window" style="width:620px; height:680px; top:10%; left:20%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px; height:16px;">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m-2 2l-4.2 4.2M23 12h-6m-6 0H1m18.2 5.2l-4.2-4.2m-2-2l-4.2-4.2"></path>
      </svg>
      Settings
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('settings-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('settings-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('settings-win')">âœ•</div>
    </div>
  </div>
  <div class="window-body" style="padding: 0; overflow: hidden; display: flex; flex-direction: column;">
    <!-- Settings Navigation -->
    <div class="settings-nav">
      <div class="settings-nav-item active" onclick="showSettingsSection('appearance')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6"></path>
        </svg>
        <span>Appearance</span>
      </div>
      <div class="settings-nav-item" onclick="showSettingsSection('personalization')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
          <line x1="7" y1="7" x2="7.01" y2="7"></line>
        </svg>
        <span>Personalization</span>
      </div>

      <div class="settings-nav-item" onclick="showSettingsSection('display')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
          <line x1="8" y1="21" x2="16" y2="21"></line>
          <line x1="12" y1="17" x2="12" y2="21"></line>
        </svg>
        <span>Display</span>
      </div>
      <div class="settings-nav-item" onclick="showSettingsSection('behavior')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
        </svg>
        <span>Behavior</span>
      </div>
      <div class="settings-nav-item" onclick="showSettingsSection('system')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
          <rect x="9" y="9" width="6" height="6"></rect>
          <line x1="9" y1="1" x2="9" y2="4"></line>
          <line x1="15" y1="1" x2="15" y2="4"></line>
          <line x1="9" y1="20" x2="9" y2="23"></line>
          <line x1="15" y1="20" x2="15" y2="23"></line>
          <line x1="20" y1="9" x2="23" y2="9"></line>
          <line x1="20" y1="14" x2="23" y2="14"></line>
          <line x1="1" y1="9" x2="4" y2="9"></line>
          <line x1="1" y1="14" x2="4" y2="14"></line>
        </svg>
        <span>System</span>
      </div>
    </div>

    <!-- Settings Content -->
    <div class="settings-content">
      
      <!-- Appearance Section -->
      <div id="settings-appearance" class="settings-section active">
        <h2 class="settings-section-title">Appearance</h2>
        
        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
            <h3>Theme</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Color mode</div>
              <div class="settings-item-description">Choose your interface theme</div>
            </div>
            <button onclick="toggleTheme()" class="settings-btn">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
              </svg>
              Toggle Theme
            </button>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Accent color</div>
              <div class="settings-item-description">Customize your accent color</div>
            </div>
            <input type="color" id="settings-accent" value="#4ade80" onchange="changeAccentColor(this.value)" class="settings-color-input">
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="7" height="7"></rect>
              <rect x="14" y="3" width="7" height="7"></rect>
              <rect x="14" y="14" width="7" height="7"></rect>
              <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
            <h3>Icons</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Icon size</div>
              <div class="settings-item-description">Adjust desktop icon size</div>
            </div>
            <div class="settings-radio-group">
              <label class="settings-radio">
                <input type="radio" name="icon-size" value="small" onchange="applyIconSize('small')">
                <span>Small</span>
              </label>
              <label class="settings-radio">
                <input type="radio" name="icon-size" value="medium" onchange="applyIconSize('medium')" checked>
                <span>Medium</span>
              </label>
              <label class="settings-radio">
                <input type="radio" name="icon-size" value="large" onchange="applyIconSize('large')">
                <span>Large</span>
              </label>
            </div>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            <h3>App Installation</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Install as app</div>
              <div class="settings-item-description">Add Bluebird OS to your device</div>
            </div>
            <button onclick="installApp()" class="settings-btn settings-btn-accent">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
              </svg>
              Install App
            </button>
          </div>
        </div>
      </div>

      <!-- Personalization Section -->
      <div id="settings-personalization" class="settings-section">
        <h2 class="settings-section-title">Personalization</h2>
        
        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
            <h3>Background</h3>
          </div>
          <!-- Add this inside settings-personalization section, after the Background group -->
<div class="settings-group">
  <div class="settings-group-header">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>
    </svg>
    <h3>Theme Presets</h3>
  </div>
  <div class="settings-item">
    <div class="settings-item-info">
      <div class="settings-item-label">Choose a theme</div>
      <div class="settings-item-description">Select from beautiful pre-designed themes</div>
    </div>
  </div>
  <div class="theme-grid">
    <div class="theme-card" onclick="applyTheme('bluebird-dark')" data-theme="bluebird-dark">
      <div class="theme-preview bluebird-dark-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Bluebird Dark</div>
        <div class="theme-card-desc">Default theme</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('bluebird-light')" data-theme="bluebird-light">
      <div class="theme-preview bluebird-light-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Bluebird Light</div>
        <div class="theme-card-desc">Clean & bright</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('midnight-purple')" data-theme="midnight-purple">
      <div class="theme-preview midnight-purple-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Midnight Purple</div>
        <div class="theme-card-desc">Deep & mystical</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('ocean-breeze')" data-theme="ocean-breeze">
      <div class="theme-preview ocean-breeze-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Ocean Breeze</div>
        <div class="theme-card-desc">Cool & calming</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('sunset-orange')" data-theme="sunset-orange">
      <div class="theme-preview sunset-orange-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Sunset Orange</div>
        <div class="theme-card-desc">Warm & energetic</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('forest-green')" data-theme="forest-green">
      <div class="theme-preview forest-green-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Forest Green</div>
        <div class="theme-card-desc">Natural & fresh</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('rose-gold')" data-theme="rose-gold">
      <div class="theme-preview rose-gold-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Rose Gold</div>
        <div class="theme-card-desc">Elegant & sophisticated</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('cyber-neon')" data-theme="cyber-neon">
      <div class="theme-preview cyber-neon-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Cyber Neon</div>
        <div class="theme-card-desc">Futuristic & bold</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('cherry-blossom')" data-theme="cherry-blossom">
      <div class="theme-preview cherry-blossom-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Cherry Blossom</div>
        <div class="theme-card-desc">Soft & delicate</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('arctic-blue')" data-theme="arctic-blue">
      <div class="theme-preview arctic-blue-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Arctic Blue</div>
        <div class="theme-card-desc">Crisp & clean</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('mocha-coffee')" data-theme="mocha-coffee">
      <div class="theme-preview mocha-coffee-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Mocha Coffee</div>
        <div class="theme-card-desc">Warm & cozy</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>

    <div class="theme-card" onclick="applyTheme('lavender-dreams')" data-theme="lavender-dreams">
      <div class="theme-preview lavender-dreams-preview">
        <div class="theme-preview-header"></div>
        <div class="theme-preview-body">
          <div class="theme-preview-accent"></div>
          <div class="theme-preview-text"></div>
        </div>
      </div>
      <div class="theme-card-info">
        <div class="theme-card-name">Lavender Dreams</div>
        <div class="theme-card-desc">Peaceful & serene</div>
      </div>
      <div class="theme-card-check">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
    </div>
  </div>
</div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Wallpaper presets</div>
              <div class="settings-item-description">Choose from beautiful backgrounds</div>
            </div>
            <div class="wallpaper-grid">
              <button onclick="setActiveWallpaper('savannah')" class="wallpaper-preset">Savannah</button>
              <button onclick="setActiveWallpaper('kampala')" class="wallpaper-preset">Kampala</button>
              <button onclick="setActiveWallpaper('nile')" class="wallpaper-preset">Nile</button>
              <button onclick="setActiveWallpaper('techlab')" class="wallpaper-preset">Techlab</button>
            </div>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Custom background color</div>
              <div class="settings-item-description">Set a solid color background</div>
            </div>
            <div style="display: flex; gap: 8px; align-items: center;">
              <input type="color" id="settings-bg-color" value="#0f1724" onchange="setCustomBackground(this.value)" class="settings-color-input">
              <button onclick="clearCustomBackground()" class="settings-btn-small">Clear</button>
            </div>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Upload custom wallpaper</div>
              <div class="settings-item-description">Use your own image as background</div>
            </div>
            <div style="display: flex; flex-direction: column; gap: 8px;">
              <input type="file" id="wallpaper-upload" accept="image/*" onchange="uploadCustomWallpaper(event)" class="settings-file-input">
              <button onclick="clearUploadedWallpaper()" class="settings-btn-small">Clear uploaded wallpaper</button>
            </div>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2v6m0 6v6m5.2-13.2l-4.2 4.2m-2 2l-4.2 4.2"></path>
            </svg>
            <h3>Background Animations</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Animation type</div>
              <div class="settings-item-description">Add beautiful animated effects</div>
            </div>
            <select id="bg-animation-select" onchange="setBackgroundAnimation(this.value)" class="settings-select">
              <option value="none">None (Disabled)</option>
              <option value="snow">â„ï¸ Snow</option>
              <option value="bubbles">ğŸ«§ Bubbles</option>
              <option value="stars">â­ Stars</option>
              <option value="rain">ğŸŒ§ï¸ Rain</option>
              <option value="hearts">ğŸ’• Hearts</option>
              <option value="confetti">ğŸ‰ Confetti</option>
              <option value="fireflies">âœ¨ Fireflies</option>
              <option value="leaves">ğŸ‚ Autumn Leaves</option>
              <option value="matrix">ğŸ’š Matrix Rain</option>
              <option value="sakura">ğŸŒ¸ Cherry Blossoms</option>
            </select>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Animation intensity</div>
              <div class="settings-item-description">Control particle density</div>
            </div>
            <div class="settings-slider-container">
              <input type="range" id="animation-intensity" min="10" max="100" value="50" oninput="updateAnimationIntensity(this.value)" class="settings-slider">
              <span id="intensity-value" class="settings-slider-value">50</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Display Section -->
      <div id="settings-display" class="settings-section">
        <h2 class="settings-section-title">Display</h2>
        
        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <h3>Screen Settings</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Force desktop site</div>
              <div class="settings-item-description">Show full desktop layout on mobile devices</div>
            </div>
            <label class="settings-toggle">
              <input type="checkbox" id="setting-force-desktop" onchange="toggleForceDesktopSite(this.checked)">
              <span class="settings-toggle-slider"></span>
            </label>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Screen orientation lock</div>
              <div class="settings-item-description">Control device rotation behavior</div>
            </div>
            <select id="orientation-select" onchange="setOrientationPreference(this.value)" class="settings-select">
              <option value="any">Any (Auto-rotate)</option>
              <option value="portrait">Portrait Only</option>
              <option value="landscape">Landscape Only</option>
            </select>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path>
            </svg>
            <h3>Resolution & Scaling</h3>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Display resolution</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Scale and layout</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
        </div>
      </div>

      <!-- Behavior Section -->
      <div id="settings-behavior" class="settings-section">
        <h2 class="settings-section-title">Behavior</h2>
        
        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
            <h3>Notifications</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Clear notification badge</div>
              <div class="settings-item-description">Auto-clear when opening notification center</div>
            </div>
            <label class="settings-toggle">
              <input type="checkbox" id="setting-clear-badge" onchange="toggleClearBadgeSetting(this.checked)">
              <span class="settings-toggle-slider"></span>
            </label>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Notification sounds</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="9" y1="3" x2="9" y2="21"></line>
            </svg>
            <h3>Window Management</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Auto-fit to content</div>
              <div class="settings-item-description">Automatically resize windows to fit content</div>
            </div>
            <label class="settings-toggle">
              <input type="checkbox" id="setting-fit-to-content" onchange="toggleFitToContent(this.checked)">
              <span class="settings-toggle-slider"></span>
            </label>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Snap windows</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Window animations</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
        </div>
      </div>

      <!-- System Section -->
      <div id="settings-system" class="settings-section">
        <h2 class="settings-section-title">System</h2>
        
        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            <h3>About</h3>
          </div>
          <div class="settings-item">
            <div class="settings-item-info">
              <div class="settings-item-label">Bluebird OS</div>
              <div class="settings-item-description">Version 2.0</div>
            </div>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Check for updates</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path>
              <line x1="4" y1="22" x2="4" y2="15"></line>
            </svg>
            <h3>Advanced</h3>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Performance mode</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Developer options</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
          <div class="settings-item settings-item-disabled">
            <div class="settings-item-info">
              <div class="settings-item-label">Storage management</div>
              <div class="settings-item-description">Coming soon</div>
            </div>
            <span class="settings-badge">Soon</span>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div class="window-resize" onmousedown="startResize(event, 'settings-win')"></div>
</div>
        
    <!-- Taskbar -->
    <!-- Taskbar -->
<!-- Taskbar -->
<div id="taskbar" role="toolbar" aria-label="Taskbar" class="taskbar-horizontal taskbar-bottom">
  <!-- Left Section -->
  <div class="taskbar-left-section">
    <!-- Start Button -->
    <button class="start-btn" onclick="toggleStartMenu()" aria-haspopup="true" aria-expanded="false" id="start-button" title="Start">
      <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
        <rect x="3" y="3" width="7.5" height="7.5" rx="1.5"/>
        <rect x="13.5" y="3" width="7.5" height="7.5" rx="1.5"/>
        <rect x="3" y="13.5" width="7.5" height="7.5" rx="1.5"/>
        <rect x="13.5" y="13.5" width="7.5" height="7.5" rx="1.5"/>
      </svg>
    </button>
    
    <!-- Search Button -->
    <button class="search-btn taskbar-desktop-only" onclick="toggleSearch()" title="Search">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <circle cx="11" cy="11" r="7"/>
        <path d="m21 21-4.35-4.35"/>
      </svg>
      <span class="search-text">Search</span>
    </button>
    
    <!-- Task View Button (Windows 11 Feature) -->
    <button class="taskbar-btn taskbar-desktop-only" onclick="toggleTaskView()" title="Task View">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
        <rect x="3" y="3" width="7" height="7" rx="1.5"/>
        <rect x="14" y="3" width="7" height="7" rx="1.5"/>
        <rect x="3" y="14" width="7" height="7" rx="1.5"/>
        <rect x="14" y="14" width="7" height="7" rx="1.5"/>
      </svg>
    </button>
  </div>
  
  <!-- Center Section - Pinned/Running Apps -->
  <div class="taskbar-center-section" id="taskbar-center">
    <!-- App icons will be dynamically added here -->
    <div class="taskbar-apps" id="taskbar-apps">
      <!-- These are examples - will be populated by JavaScript -->
      <div class="taskbar-app active" data-app="inspireboard" onclick="openWindow('inspireboard-win')" title="InspireBoard">
        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
          <rect x="5" y="5" width="14" height="14" rx="3" fill="rgba(0,120,212,0.2)" stroke="rgba(0,120,212,0.8)" stroke-width="1.5"/>
          <path d="M12 8v8M8 12h8" stroke="rgba(0,120,212,0.9)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <div class="app-indicator"></div>
      </div>
      
      <div class="taskbar-app" data-app="birdshell" onclick="openWindow('birdshell-win')" title="BirdShell">
        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
          <rect x="4" y="6" width="16" height="12" rx="2" fill="rgba(76,175,80,0.2)" stroke="rgba(76,175,80,0.8)" stroke-width="1.5"/>
          <path d="M6 9h12M6 12h10M6 15h6" stroke="rgba(76,175,80,0.9)" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <div class="app-indicator"></div>
      </div>
      
      <div class="taskbar-app" data-app="claude" onclick="openWindow('claude-win')" title="Comfort Claude">
        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
          <circle cx="12" cy="12" r="8" fill="rgba(156,39,176,0.2)" stroke="rgba(156,39,176,0.8)" stroke-width="1.5"/>
          <path d="M8 12h8M12 8v8" stroke="rgba(156,39,176,0.9)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <div class="app-indicator"></div>
      </div>
    </div>
    
    <!-- Show Desktop Button -->
    <div class="show-desktop-btn" onclick="showDesktop()" title="Show desktop"></div>
  </div>
  
  <!-- Right Section -->
  <div class="taskbar-right-section">
    <!-- Hidden Icons (Collapsed) -->
    <div class="hidden-icons" id="hidden-icons">
      <div class="taskbar-btn" onclick="toggleHiddenIcons()" title="Show hidden icons">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="14" height="14">
          <path d="M12 5v14M5 12h14"/>
        </svg>
      </div>
    </div>
    
    <!-- System Tray -->
    <div class="system-tray">
      <!-- Quick Settings -->
      <div class="system-tray-icon" id="quick-settings-btn" onclick="toggleQuickSettings()" title="Quick Settings">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
          <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="1.5"/>
          <circle cx="12" cy="12" r="2" fill="currentColor"/>
        </svg>
      </div>
      
      <!-- Network -->
      <div class="system-tray-icon taskbar-desktop-only" onclick="toggleWifi()" title="Network">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
          <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
          <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
          <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
          <circle cx="12" cy="20" r="1" fill="currentColor"/>
        </svg>
      </div>
      
      <!-- Volume -->
      <div class="system-tray-icon" onclick="toggleVolumeControl()" title="Volume">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M15.54 8.46a5 5 0 0 1 0 7.07" stroke="currentColor" stroke-width="1.5"/>
          <path class="taskbar-desktop-only" d="M19.07 4.93a10 10 0 0 1 0 14.14" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </div>
      
      <!-- Theme -->
      <div class="system-tray-icon" onclick="toggleTheme()" title="Theme">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </div>
      
      <!-- Wallpaper -->
      <div class="system-tray-icon taskbar-desktop-only" onclick="cycleWallpaper()" title="Wallpaper">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
          <rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
          <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
          <path d="M2 13l5-5 4 4" stroke="currentColor" stroke-width="1.5"/>
          <path d="M14 10l3-3 5 5v5H2v-1" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </div>
      
      <!-- Notifications -->
<!-- Notifications Button -->
<div class="system-tray-icon" onclick="window.Win11Notifications.toggle()" title="Notifications" style="position: relative; cursor: pointer;" data-win11-notification-btn>
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="1.5"/>
    <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="1.5"/>
  </svg>
  <!-- The badge will be positioned here by CSS -->
  <div id="win11-notification-badge" class="win11-notification-badge" style="display: none;">0</div>

</div>
    </div>
    
    <!-- Date & Time -->
    <div class="taskbar-datetime" onclick="toggleCalendar()" title="Calendar">
      <div class="time" id="taskbar-time">12:00</div>
      <div class="date taskbar-desktop-only" id="taskbar-date">Jan 23, 2026</div>
    </div>
    
    <!-- Settings -->
    <div class="system-tray-icon" onclick="toggleTaskbarSettings()" title="Taskbar Settings">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16">
        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5"/>
        <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" stroke="currentColor" stroke-width="1.5"/>
      </svg>
    </div>
  </div>
</div>

<!-- Hidden Icons Panel -->
<div class="hidden-icons-panel" id="hidden-icons-panel">
  <div class="hidden-icons-header">
    <span>Hidden Icons</span>
    <button class="close-hidden-icons" onclick="toggleHiddenIcons()">Ã—</button>
  </div>
  <div class="hidden-icons-content">
    <!-- Additional system tray icons can be added here -->
    <div class="hidden-icon-item" onclick="toggleLiveCaptions()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="14" height="14">
        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
        <line x1="12" y1="19" x2="12" y2="23"/>
        <line x1="8" y1="23" x2="16" y2="23"/>
      </svg>
      <span>Live Captions</span>
    </div>
  </div>
</div>

<!-- Taskbar Settings Panel -->
<div id="taskbar-settings-panel" class="settings-panel" style="display: none;">
  <div class="settings-header">
    <h3>Taskbar Settings</h3>
    <button onclick="toggleTaskbarSettings()" class="close-btn">Ã—</button>
  </div>
  <div class="settings-content">
    <div class="setting-group">
      <label>Position</label>
      <select id="taskbar-position" onchange="setTaskbarPosition(this.value)">
        <option value="bottom">Bottom</option>
        <option value="top">Top</option>
        <option value="left">Left</option>
        <option value="right">Right</option>
      </select>
    </div>
    
    <div class="setting-group">
      <label>Alignment</label>
      <select id="taskbar-alignment" onchange="setTaskbarAlignment(this.value)">
        <option value="center">Center</option>
        <option value="left">Left</option>
      </select>
    </div>
    
    <div class="setting-group">
      <label class="checkbox-label">
        <input type="checkbox" id="taskbar-autohide" onchange="setTaskbarAutoHide(this.checked)">
        Auto-hide taskbar
      </label>
    </div>
    
    <div class="setting-group">
      <label class="checkbox-label">
        <input type="checkbox" id="taskbar-extend" onchange="setTaskbarExtend(this.checked)" checked>
        Extend to screen edges
      </label>
    </div>
    
    <div class="setting-group">
      <label>Size</label>
      <select id="taskbar-size" onchange="setTaskbarSize(this.value)">
        <option value="small">Small</option>
        <option value="medium" selected>Medium</option>
        <option value="large">Large</option>
      </select>
    </div>
  </div>
</div>
<!-- Add these panels after the taskbar settings panel -->

<!-- Volume Control Panel -->
<div id="volume-panel" class="quick-panel" style="display: none;">
  <div class="panel-header">
    <h3>Volume</h3>
  </div>
  <div class="panel-content">
    <div class="volume-main">
      <div class="volume-icon-display" id="volume-icon-display">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32" height="32">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
          <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
        </svg>
      </div>
      <div class="volume-slider-container">
        <input type="range" id="volume-slider" min="0" max="100" value="100" class="volume-slider">
        <div class="volume-percentage" id="volume-percentage">100%</div>
      </div>
    </div>
    
    <div class="volume-devices">
      <div class="device-section">
        <label class="device-label">Output Device</label>
        <select id="audio-output-device" class="device-select">
          <option value="default">Default - Speakers</option>
        </select>
      </div>
      
      <div class="device-section">
        <label class="device-label">Input Device</label>
        <select id="audio-input-device" class="device-select">
          <option value="default">Default - Microphone</option>
        </select>
      </div>
    </div>
    
    <div class="volume-mixer">
      <div class="mixer-header">App Volume</div>
      <div id="app-volumes" class="app-volumes-list">
        <!-- Dynamic app volume controls will be added here -->
      </div>
    </div>
    
    <div class="quick-actions">
      <button class="action-btn" onclick="muteToggle()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
          <line x1="23" y1="9" x2="17" y2="15"/>
          <line x1="17" y1="9" x2="23" y2="15"/>
        </svg>
        <span id="mute-text">Mute</span>
      </button>
    </div>
  </div>
</div>

<!-- WiFi/Network Panel -->
<div id="wifi-panel" class="quick-panel" style="display: none;">
  <div class="panel-header">
    <h3>Network & Internet</h3>
  </div>
  <div class="panel-content">
    <div class="network-status">
      <div class="status-icon" id="network-status-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
          <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
          <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
          <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
          <circle cx="12" cy="20" r="1" fill="currentColor"/>
        </svg>
      </div>
      <div class="status-text">
        <div class="status-title" id="network-status-title">Connected</div>
        <div class="status-subtitle" id="network-status-subtitle">Internet access</div>
      </div>
    </div>
    
    <div class="network-details">
      <div class="detail-row">
        <span class="detail-label">Status:</span>
        <span class="detail-value" id="connection-status">Online</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Connection:</span>
        <span class="detail-value" id="connection-type">Unknown</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Download Speed:</span>
        <span class="detail-value" id="download-speed">--</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Latency:</span>
        <span class="detail-value" id="network-latency">--</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">IP Address:</span>
        <span class="detail-value" id="ip-address">--</span>
      </div>
    </div>
    
    <div class="network-actions">
      <button class="action-btn" onclick="testNetworkSpeed()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
        </svg>
        Test Speed
      </button>
      <button class="action-btn" onclick="refreshNetworkInfo()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
        </svg>
        Refresh
      </button>
    </div>
    
    <div class="connection-history">
      <div class="history-header">Connection Quality</div>
      <div class="quality-indicator">
        <div class="quality-bar">
          <div class="quality-fill" id="quality-fill" style="width: 100%"></div>
        </div>
        <span class="quality-text" id="quality-text">Excellent</span>
      </div>
    </div>
  </div>
</div>
<!-- Search Panel -->
<div id="search-panel" class="search-panel" style="display: none;">
  <div class="search-header">
    <div class="search-input-container">
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
      </svg>
      <input 
        type="text" 
        id="search-input" 
        class="search-input" 
        placeholder="Search apps, files, or the web..."
        autocomplete="off"
      >
      <button class="search-clear" id="search-clear-btn" style="display: none;" onclick="searchController.clearSearch()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <button class="search-close-btn" onclick="toggleSearch()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  
  <div class="search-tabs">
    <button class="search-tab active" data-tab="all" onclick="searchController.switchTab('all')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
      </svg>
      All
    </button>
    <button class="search-tab" data-tab="apps" onclick="searchController.switchTab('apps')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <rect x="3" y="3" width="7" height="7" rx="1"/>
        <rect x="14" y="3" width="7" height="7" rx="1"/>
        <rect x="14" y="14" width="7" height="7" rx="1"/>
        <rect x="3" y="14" width="7" height="7" rx="1"/>
      </svg>
      Apps
    </button>
    <button class="search-tab" data-tab="web" onclick="searchController.switchTab('web')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <circle cx="12" cy="12" r="10"/>
        <line x1="2" y1="12" x2="22" y2="12"/>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
      </svg>
      Web
    </button>
  </div>
  
  <div class="search-content" id="search-content">
    <div class="search-suggestions" id="search-suggestions">
      <div class="suggestion-section">
        <div class="suggestion-header">Quick Actions</div>
        <div class="suggestion-item" onclick="searchController.executeAction('settings')">
          <div class="suggestion-icon">âš™ï¸</div>
          <div class="suggestion-text">
            <div class="suggestion-title">Taskbar Settings</div>
            <div class="suggestion-subtitle">Customize your taskbar</div>
          </div>
        </div>
        <div class="suggestion-item" onclick="searchController.executeAction('theme')">
          <div class="suggestion-icon">ğŸ¨</div>
          <div class="suggestion-text">
            <div class="suggestion-title">Change Theme</div>
            <div class="suggestion-subtitle">Light or Dark mode</div>
          </div>
        </div>
        <div class="suggestion-item" onclick="searchController.executeAction('wallpaper')">
          <div class="suggestion-icon">ğŸ–¼ï¸</div>
          <div class="suggestion-text">
            <div class="suggestion-title">Change Wallpaper</div>
            <div class="suggestion-subtitle">Customize background</div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="search-results" id="search-results" style="display: none;">
      <!-- Results will be populated here -->
    </div>
    
    <div class="search-loading" id="search-loading" style="display: none;">
      <div class="loading-spinner"></div>
      <div class="loading-text">Searching...</div>
    </div>
    
    <div class="search-empty" id="search-empty" style="display: none;">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
      </svg>
      <div class="empty-text">No results found</div>
      <div class="empty-subtitle">Try searching the web instead</div>
    </div>
  </div>
  
  <div class="search-footer">
    <div class="search-tips">
      <span class="tip-label">Tips:</span>
      <span class="tip-text">Press <kbd>Ctrl+K</kbd> to open search</span>
    </div>
  </div>
</div>

<!-- Calendar Panel -->
<div id="calendar-panel" class="quick-panel calendar-panel" style="display: none;">
  <div class="panel-header">
    <button class="calendar-nav-btn" onclick="calendarController.previousMonth()" aria-label="Previous month">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    <h3 id="calendar-month-year">January 2026</h3>
    <button class="calendar-nav-btn" onclick="calendarController.nextMonth()" aria-label="Next month">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>
  </div>
  
  <div class="panel-content calendar-content">
    <div class="calendar-grid">
      <div class="calendar-weekdays">
        <div class="weekday">Sun</div>
        <div class="weekday">Mon</div>
        <div class="weekday">Tue</div>
        <div class="weekday">Wed</div>
        <div class="weekday">Thu</div>
        <div class="weekday">Fri</div>
        <div class="weekday">Sat</div>
      </div>
      <div class="calendar-days" id="calendar-days">
        <!-- Days will be generated here -->
      </div>
    </div>
    
    <div class="calendar-events-section">
      <div class="events-header">
        <h4>Events</h4>
        <button class="add-event-btn" onclick="calendarController.showAddEvent()" title="Add Event">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </button>
      </div>
      <div class="events-list" id="calendar-events-list">
        <div class="no-events">No events for selected date</div>
      </div>
    </div>
    
    <div class="calendar-quick-actions">
      <button class="quick-action-btn" onclick="calendarController.goToToday()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        Today
      </button>
      <button class="quick-action-btn" onclick="calendarController.toggleView()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <line x1="8" y1="6" x2="21" y2="6"></line>
          <line x1="8" y1="12" x2="21" y2="12"></line>
          <line x1="8" y1="18" x2="21" y2="18"></line>
          <line x1="3" y1="6" x2="3.01" y2="6"></line>
          <line x1="3" y1="12" x2="3.01" y2="12"></line>
          <line x1="3" y1="18" x2="3.01" y2="18"></line>
        </svg>
        <span id="view-mode-text">Month</span>
      </button>
    </div>
  </div>
</div>

<!-- Add Event Modal -->
<div id="add-event-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Add Event</h3>
      <button class="close-btn" onclick="calendarController.closeAddEvent()">Ã—</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="event-title">Title</label>
        <input type="text" id="event-title" class="form-input" placeholder="Event title">
      </div>
      
      <div class="form-group">
        <label for="event-date">Date</label>
        <input type="date" id="event-date" class="form-input">
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="event-start-time">Start Time</label>
          <input type="time" id="event-start-time" class="form-input">
        </div>
        <div class="form-group">
          <label for="event-end-time">End Time</label>
          <input type="time" id="event-end-time" class="form-input">
        </div>
      </div>
      
      <div class="form-group">
        <label for="event-description">Description (Optional)</label>
        <textarea id="event-description" class="form-input" rows="3" placeholder="Event description"></textarea>
      </div>
      
      <div class="form-group">
        <label for="event-color">Color</label>
        <div class="color-picker">
          <input type="color" id="event-color" value="#3b82f6">
          <div class="color-presets">
            <div class="color-preset" style="background: #3b82f6;" onclick="document.getElementById('event-color').value='#3b82f6'"></div>
            <div class="color-preset" style="background: #ef4444;" onclick="document.getElementById('event-color').value='#ef4444'"></div>
            <div class="color-preset" style="background: #10b981;" onclick="document.getElementById('event-color').value='#10b981'"></div>
            <div class="color-preset" style="background: #f59e0b;" onclick="document.getElementById('event-color').value='#f59e0b'"></div>
            <div class="color-preset" style="background: #8b5cf6;" onclick="document.getElementById('event-color').value='#8b5cf6'"></div>
            <div class="color-preset" style="background: #ec4899;" onclick="document.getElementById('event-color').value='#ec4899'"></div>
          </div>
        </div>
      </div>
      
      <div class="form-actions">
        <button class="btn btn-secondary" onclick="calendarController.closeAddEvent()">Cancel</button>
        <button class="btn btn-primary" onclick="calendarController.saveEvent()">Save Event</button>
      </div>
    </div>
  </div>
</div>

    <!-- Start Menu -->
<!-- Start Menu -->
<div id="start-menu" role="menu" aria-label="Start menu">
  <div class="menu-header">
    <div class="menu-user">
      <div class="user-avatar" onclick="changeUserAvatar()" title="Click to change avatar">
        <img id="user-avatar-img" src="/assets/profile.jpg" alt="User avatar">
        <span id="user-avatar-text" style="display:none;">N</span>
      </div>
      <div class="user-info">
        <div class="user-name" id="user-name">Norbert</div>
        <div class="user-status">Bluebird OS v2.0</div>
      </div>
    </div>
  </div>
  <div class="menu-search">
    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="8"></circle>
      <path d="m21 21-4.35-4.35"></path>
    </svg>
    <input type="text" placeholder="Search apps..." id="start-search" oninput="filterStartMenu(this.value)">
  </div>
  <div class="menu-apps" id="menu-apps">
    <div class="menu-section-title">Pinned</div>
    <div class="menu-item" onclick="installApp(); toggleStartMenu();">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg></i>
      <span>Install App</span>
    </div>
    <!-- Add this to your start menu items -->
<div class="menu-item" onclick="openWindow('music-player-win'); toggleStartMenu()" role="menuitem">
  <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M9 18V5l12-2v13"></path>
    <circle cx="6" cy="18" r="3"></circle>
    <circle cx="18" cy="16" r="3"></circle>
  </svg></i>
  <span>Music Player</span>
</div>
<div class="menu-item" onclick="openWindow('file-explorer-win'); toggleStartMenu()" role="menuitem">
  <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
  </svg></i>
  <span>File Explorer</span>
</div>
<div class="menu-item" onclick="openSecuritySettings()">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
  </svg>
  <span>Security</span>
</div>
    <div class="menu-item" onclick="toggleLiveCaptions(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
        <line x1="12" y1="19" x2="12" y2="23"></line>
        <line x1="8" y1="23" x2="16" y2="23"></line>
      </svg></i>
      <span>Live Captions</span>
    </div>
    <div class="menu-item" onclick="openWindow('productivity-dashboard'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="20" x2="18" y2="10"></line>
        <line x1="12" y1="20" x2="12" y2="4"></line>
        <line x1="6" y1="20" x2="6" y2="14"></line>
      </svg></i>
      <span>Productivity Analytics</span>
    </div>
    <div class="menu-item" onclick="toggleVoiceCommands(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
        <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
        <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
      </svg></i>
      <span>Voice Commands</span>
    </div>
    <div class="menu-item" onclick="openWindow('inspireboard-win'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 18h6"></path>
        <path d="M10 22h4"></path>
        <path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7z"></path>
      </svg></i>
      <span>InspireBoard</span>
    </div>
    <div class="menu-item" onclick="openBirdShell(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="4 17 10 11 4 5"></polyline>
        <line x1="12" y1="19" x2="20" y2="19"></line>
      </svg></i>
      <span>BirdShell Terminal</span>
    </div>
    <div class="menu-item" onclick="openWindow('resume-win'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="16" y1="13" x2="8" y2="13"></line>
        <line x1="16" y1="17" x2="8" y2="17"></line>
        <polyline points="10 9 9 9 8 9"></polyline>
      </svg></i>
      <span>Resume</span>
    </div>
    <div class="menu-item" onclick="openWindow('claude-win'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        <circle cx="9" cy="10" r="1" fill="currentColor"></circle>
        <circle cx="15" cy="10" r="1" fill="currentColor"></circle>
        <path d="M9 14s1 1 3 1 3-1 3-1"></path>
      </svg></i>
      <span>Comfort Claude AI</span>
    </div>
    <div class="menu-item" onclick="openAppField(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <polygon points="10 8 16 12 10 16 10 8"></polygon>
      </svg></i>
      <span>App Launcher</span>
    </div>
    <div class="menu-item" onclick="startGestureMode(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"></path>
        <path d="M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"></path>
        <path d="M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8"></path>
        <path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"></path>
      </svg></i>
      <span>Gesture Control</span>
    </div>
    <div class="menu-item" onclick="openWindow('projects-win'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
      </svg></i>
      <span>Projects</span>
    </div>
    <div class="menu-item" onclick="openWindow('connect-win'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
        <polyline points="22,6 12,13 2,6"></polyline>
      </svg></i>
      <span>Connect</span>
    </div>
    <div class="menu-item" onclick="openWindow('settings-win'); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m-2 2l-4.2 4.2M23 12h-6m-6 0H1m18.2 5.2l-4.2-4.2m-2-2l-4.2-4.2"></path>
      </svg></i>
      <span>Settings</span>
    </div>
    <div class="menu-section-title">System</div>
    <div class="menu-item" onclick="confirmOpenTerminal()" role="menuitem" id="terminal-start-item">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
        <line x1="8" y1="21" x2="16" y2="21"></line>
        <line x1="12" y1="17" x2="12" y2="21"></line>
      </svg></i>
      <span>Terminal</span>
    </div>
    <div class="menu-item" onclick="toggleTheme(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
      </svg></i>
      <span>Toggle Theme</span>
    </div>
    <div class="menu-item" onclick="toggleSound(); toggleStartMenu()" role="menuitem">
      <i><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
        <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
      </svg></i>
      <span id="sound-status">Sound: On</span>
    </div>
  </div>
  <div class="menu-footer">
    <div class="menu-footer-btn" onclick="location.reload()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="23 4 23 10 17 10"></polyline>
        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
      </svg>
      <span>Refresh</span>
    </div> 
    <div class="menu-footer-btn" onclick="togglePowerMenu()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
        <line x1="12" y1="2" x2="12" y2="12"></line>
      </svg>
      <span>Power</span>
    </div>
  </div>
</div>

  <!-- Confirmation Modal -->
  <div id="confirm-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="confirm-title" aria-hidden="true">
    <div class="modal" role="document">
      <h3 id="confirm-title" style="color:var(--accent);">Open External Terminal</h3>
      <p>The terminal will open in a new tab (terminal.html). Continue?</p>
      <div style="display:flex; justify-content:flex-end; gap:0.6rem;">
        <button class="btn btn-cancel" id="modal-cancel" style="background:transparent; border:1px solid var(--border); padding:0.5rem 0.8rem;">Cancel</button>
        <button class="btn btn-confirm" id="modal-confirm" style="background:var(--accent); color:#000; padding:0.5rem 0.8rem;">Open Terminal</button>
      </div>
    </div>
  </div>

  <!-- App Preview Modal -->
  <div id="app-preview-modal" style="
    position: fixed; top:0; left:0; width:100%; height:100%;
    background: rgba(0,0,0,0.65); display:none; justify-content:center; align-items:center;
    z-index:3000;">
    <div style="
      background: var(--panel); padding: 1.2rem; border-radius:8px; width:360px; max-width:90%;
      display:flex; flex-direction:column; gap:1rem; box-shadow:0 4px 20px rgba(0,0,0,0.5);
    ">
      <div style="display:flex; align-items:center; gap:1rem;">
        <div id="preview-icon" style="font-size:42px;"></div>
        <div>
          <h2 id="preview-name" style="margin:0; color: var(--accent);"></h2>
          <p id="preview-desc" style="margin:0; font-size:14px; color: #9fbf9f;"></p>
        </div>
      </div>
      <div style="text-align:right; display:flex; justify-content:flex-end; gap:0.5rem;">
        <button onclick="closeAppPreview()" style="padding:0.4rem 0.8rem; cursor:pointer;">Cancel</button>
        <button id="preview-install-btn" style="padding:0.4rem 0.8rem; cursor:pointer; background:var(--accent); border:none; color:#000;">Install</button>
      </div>
    </div>
  </div>
  <!-- Gesture Control Mode -->
<div id="gesture-mode">
  <div class="gesture-header">
    <div class="gesture-title">
      <span>ğŸ‘‹</span>
      <span>Gesture Control Mode</span>
    </div>
    <div class="gesture-status">
      <div style="display:flex; align-items:center; gap:0.5rem;">
        <div class="gesture-indicator"></div>
        <span id="gesture-status-text">Camera Active</span>
      </div>
      <button onclick="exitGestureMode()" style="padding:0.6rem 1.2rem; background:#ff6b6b; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:600;">
        Exit Gesture Mode
      </button>
    </div>
  </div>

  <div class="gesture-content">
    <div class="gesture-sidebar">
      <div class="gesture-control-item">
        <div class="gesture-label">Camera Feed</div>
        <div class="gesture-video-container">
          <video id="gesture-video" autoplay playsinline></video>
          <canvas id="gesture-canvas"></canvas>
        </div>
      </div>

      <div class="gesture-help">
        <div class="gesture-help-title">
          <span>âœ‹</span>
          <span>Gesture Commands</span>
        </div>
        <div class="gesture-command">
          <span class="gesture-icon">ğŸ‘†</span>
          <span>Point: Move cursor</span>
        </div>
        <div class="gesture-command">
          <span class="gesture-icon">ğŸ‘Œ</span>
          <span>Pinch: Click/Select</span>
        </div>
        <div class="gesture-command">
          <span class="gesture-icon">âœŠ</span>
          <span>Fist: Grab/Drag</span>
        </div>
        <div class="gesture-command">
          <span class="gesture-icon">ğŸ¤š</span>
          <span>Open Palm: Stop/Cancel</span>
        </div>
        <div class="gesture-command">
          <span class="gesture-icon">ğŸ¤</span>
          <span>Pinch + Move: Zoom</span>
        </div>
        <div class="gesture-command">
          <span class="gesture-icon">âœŒï¸</span>
          <span>Peace: Scroll</span>
        </div>
      </div>
    </div>

    <div class="gesture-workspace" id="gesture-workspace">
      <div class="cursor-dot" id="gesture-cursor"></div>
      <div class="gesture-action-indicator" id="gesture-action"></div>
      
      <!-- App Launcher Field will be rendered here -->
      <div id="app-field"></div>
    </div>
  </div>
</div>
<!-- App Launcher Field -->
<div id="app-field-launcher">
  <div class="field-header">
    <div class="field-title">
      <span>ğŸš€</span>
      <span>App Launcher</span>
    </div>
    <div class="field-subtitle">Organize, search, and launch your apps with ease</div>
    
    <div class="field-controls">
      <button class="field-btn" onclick="toggleFieldEditMode()">
        <span>âœï¸</span>
        <span id="edit-mode-text">Edit Mode</span>
      </button>
      <button class="field-btn" onclick="createFolder()">
        <span>ğŸ“</span>
        <span>New Folder</span>
      </button>
      <button class="field-btn" onclick="startGestureMode(); closeAppField()">
        <span>ğŸ‘‹</span>
        <span>Gesture Control</span>
      </button>
      <input type="text" class="field-search" id="field-search" placeholder="ğŸ” Search apps..." oninput="filterFieldApps(this.value)">
      <button class="field-btn" onclick="closeAppField()">
        <span>âœ•</span>
        <span>Close</span>
      </button>
    </div>
  </div>

  <div class="field-content">
    <div class="field-grid" id="field-grid">
      <!-- Apps will be dynamically added here -->
    </div>
  </div>

  <div class="zoom-controls">
    <button class="zoom-btn" onclick="setFieldZoom(1)" title="Small">
      <span style="font-size:0.8rem;">âŠ™</span>
    </button>
    <button class="zoom-btn active" onclick="setFieldZoom(2)" title="Medium">
      <span style="font-size:1rem;">âŠ™</span>
    </button>
    <button class="zoom-btn" onclick="setFieldZoom(3)" title="Large">
      <span style="font-size:1.3rem;">âŠ™</span>
    </button>
  </div>
</div>

<!-- Folder Contents Modal -->
<div class="folder-contents" id="folder-modal">
  <div class="folder-header">
    <div class="folder-title" id="folder-modal-title">
      <span>ğŸ“</span>
      <span>Folder</span>
    </div>
    <div class="folder-close" onclick="closeFolderModal()">Ã—</div>
  </div>
  <div class="folder-grid" id="folder-modal-grid">
    <!-- Folder apps will be displayed here -->
  </div>
</div>

<!-- Add this to your existing HTML file -->


<!-- Toast Notification Container -->
<div id="toast-container"></div>

<!-- Do Not Disturb Indicator -->
<div class="dnd-indicator" id="dnd-indicator" style="display: none;">
    <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
        <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>
    </svg>
</div>

<!-- Toast Notifications Container (add near bottom of body) -->
<div id="win11-toast-container" class="win11-toast-container"></div>

<!-- DND Indicator (near top of body) -->
<div id="win11-dnd-indicator" class="win11-dnd-indicator">
    <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
        <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>
    </svg>
</div>

<!-- Notification Center (add where your current one is) -->
<div id="win11-notification-center" class="win11-notification-center">
    <div class="win11-notification-header">
        <div class="win11-notification-title">
            <svg class="win11-notification-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
            </svg>
            Notifications
        </div>
        <div class="win11-notification-controls">
            <button class="win11-dnd-toggle" id="win11-dnd-toggle">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                </svg>
                Do not disturb
            </button>
            <button class="win11-clear-all" id="win11-clear-all">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
                Clear all
            </button>
        </div>
    </div>
    
    <!-- Notifications List -->
    <div class="win11-notification-list" id="win11-notification-list">
        <!-- Empty state will be shown by default -->
    </div>
</div>

<!-- Notification Badge (add this near your taskbar notification button) -->

  <!-- Quick Settings Panel -->
<div id="quick-settings" style="display:none;">
  <div class="quick-settings-header">
    <h3>Quick Settings</h3>
    <button class="quick-settings-close" onclick="toggleQuickSettings()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  
  <div class="quick-settings-body">
    <!-- Toggle Tiles -->
    <div class="quick-tiles-grid">
      <div class="quick-tile" id="wifi-tile" onclick="toggleQuickTile('wifi')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
          <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
          <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
          <line x1="12" y1="20" x2="12.01" y2="20"></line>
        </svg>
        <div class="quick-tile-label">Wi-Fi</div>
        <div class="quick-tile-status">On</div>
      </div>

      <div class="quick-tile" id="bluetooth-tile" onclick="toggleQuickTile('bluetooth')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>
        </svg>
        <div class="quick-tile-label">Bluetooth</div>
        <div class="quick-tile-status">Off</div>
      </div>

      <div class="quick-tile" id="airplane-tile" onclick="toggleQuickTile('airplane')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"></path>
        </svg>
        <div class="quick-tile-label">Airplane</div>
        <div class="quick-tile-status">Off</div>
      </div>

      <div class="quick-tile" id="nightlight-tile" onclick="toggleQuickTile('nightlight')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <div class="quick-tile-label">Night light</div>
        <div class="quick-tile-status">Off</div>
      </div>

      <div class="quick-tile" id="focus-tile" onclick="toggleQuickTile('focus')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          <line x1="1" y1="1" x2="23" y2="23"></line>
        </svg>
        <div class="quick-tile-label">Focus assist</div>
        <div class="quick-tile-status">Off</div>
      </div>

      <div class="quick-tile active" id="sound-tile" onclick="toggleQuickTile('sound')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
        </svg>
        <div class="quick-tile-label">Sound</div>
        <div class="quick-tile-status">On</div>
      </div>
    </div>

    <!-- Sliders Section -->
    <div class="quick-sliders">
      <div class="quick-slider-item">
        <div class="quick-slider-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <span>Brightness</span>
          <span class="quick-slider-value" id="brightness-value">70%</span>
        </div>
        <input type="range" class="quick-slider" id="brightness-slider" min="0" max="100" value="70" oninput="updateBrightness(this.value)">
      </div>

      <div class="quick-slider-item">
        <div class="quick-slider-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
          </svg>
          <span>Volume</span>
          <span class="quick-slider-value" id="volume-value">50%</span>
        </div>
        <input type="range" class="quick-slider" id="volume-slider" min="0" max="100" value="50" oninput="updateVolume(this.value)">
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <button class="quick-action-btn" onclick="openWindow('settings-win'); toggleQuickSettings();">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m-2 2l-4.2 4.2M23 12h-6m-6 0H1m18.2 5.2l-4.2-4.2m-2-2l-4.2-4.2"></path>
        </svg>
        All Settings
      </button>
      <button class="quick-action-btn" onclick="toggleTheme(); toggleQuickSettings();">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        Toggle Theme
      </button>
    </div>
  </div>
</div>
  <!-- Live Caption Container -->
<div id="live-caption-container">
  <div class="caption-header">
    <div class="caption-title">
      <span>ğŸ¤</span>
      <span>Live Captions</span>
    </div>
    <div class="caption-status">
      <div class="caption-pulse"></div>
      <span id="caption-status-text">Listening...</span>
    </div>
    <div class="caption-controls">
      <button class="caption-btn" onclick="toggleCaptionSettings()">âš™ï¸</button>
      <button class="caption-btn" onclick="toggleLiveCaptions()">âœ•</button>
    </div>
  </div>
  
  <div class="caption-text" id="caption-text">
    Speak or play audio to see captions appear here...
  </div>
  
  <div class="caption-language" id="caption-language">
    English (United States)
  </div>
  
  <div class="caption-settings-panel" id="caption-settings">
    <div class="caption-setting-row">
      <span class="caption-setting-label">Language:</span>
      <select class="caption-select" id="caption-lang-select" onchange="updateCaptionLanguage(this.value)">
        <option value="en-US">English (US)</option>
        <option value="en-GB">English (UK)</option>
        <option value="es-ES">Spanish (Spain)</option>
        <option value="fr-FR">French</option>
        <option value="de-DE">German</option>
        <option value="it-IT">Italian</option>
        <option value="pt-BR">Portuguese (Brazil)</option>
        <option value="ru-RU">Russian</option>
        <option value="zh-CN">Chinese (Simplified)</option>
        <option value="ja-JP">Japanese</option>
        <option value="ko-KR">Korean</option>
        <option value="ar-SA">Arabic</option>
        <option value="hi-IN">Hindi</option>
        <option value="sw-KE">Swahili</option>
      </select>
    </div>
    
    <div class="caption-setting-row">
      <span class="caption-setting-label">Text Size:</span>
      <select class="caption-select" id="caption-size-select" onchange="updateCaptionSize(this.value)">
        <option value="1.0">Small</option>
        <option value="1.3" selected>Medium</option>
        <option value="1.6">Large</option>
        <option value="2.0">Extra Large</option>
      </select>
    </div>
    
    <div class="caption-setting-row">
      <span class="caption-setting-label">Auto-scroll:</span>
      <label style="display: flex; align-items: center; gap: 0.5rem;">
        <input type="checkbox" id="caption-autoscroll" checked style="width: 16px; height: 16px; cursor: pointer;">
      </label>
    </div>
  </div>
</div>

  <!-- Desktop Context Menu -->
<div id="desktop-context-menu" role="menu" aria-hidden="true">
  <div class="ctx-item" onclick="installFromContext()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
      <polyline points="7 10 12 15 17 10"></polyline>
      <line x1="12" y1="15" x2="12" y2="3"></line>
    </svg>
    Install App
  </div>
  <div class="ctx-item" onclick="toggleThemeFromContext()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>
    Change Theme
  </div>
  <div class="ctx-item" onclick="openBackgroundColorPicker()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
      <circle cx="8.5" cy="8.5" r="1.5"></circle>
      <polyline points="21 15 16 10 5 21"></polyline>
    </svg>
    Change Background
  </div>
  <div class="ctx-item" onclick="openSettingsFromContext()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;">
      <circle cx="12" cy="12" r="3"></circle>
      <path d="M12 1v6m0 6v6"></path>
    </svg>
    Settings
  </div>
  <div class="ctx-item" onclick="location.reload()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;">
      <polyline points="23 4 23 10 17 10"></polyline>
      <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
    </svg>
    Refresh
  </div>
</div>

  <!-- hidden color inputs used by context menu/settings -->
  <input id="desktop-bg-picker" type="color" style="position:fixed; left:-9999px; top:-9999px;" />
  <input id="desktop-accent-picker" type="color" style="position:fixed; left:-9999px; top:-9999px;" />

  <!-- Audio (Ubuntu-style chime) -->
  <audio id="welcome-sound" preload="auto">
    <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFe3JuZV9aV1NOQzsqFAgB8uXczL60rKalnpuYlZGPjYyLioiHhoSCgYB+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAABAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZGhscHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gIGCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/v8=" type="audio/wav"/>
  </audio>
  <!-- App Download Modal -->
<!-- App Download Modal -->
<div class="app-download-modal" id="app-download-modal">
  <div class="app-modal-overlay" onclick="closeAppDownloadModal()"></div>
  
  <div class="app-modal-container">
    <div class="app-modal-header">
      <div class="app-modal-title">
        <svg class="app-modal-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
          <line x1="12" y1="18" x2="12.01" y2="18"/>
        </svg>
        Get Bluebird Ultimate
      </div>
      <button class="app-modal-close" onclick="closeAppDownloadModal()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    
    <div class="app-modal-content">
      <p class="app-modal-text">
        Experience Bluebird OS optimized for mobile with native features, better performance, and offline support!
      </p>
      
      <div class="app-download-buttons">
        <!-- Android -->
        <a href="YOUR_ANDROID_APK_URL_HERE" target="_blank" class="app-download-btn" onclick="trackAppDownload('android')">
          <div class="app-btn-icon android">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24a11.5 11.5 0 0 0-8.94 0L5.65 5.67c-.19-.28-.54-.37-.83-.22-.3.16-.42.54-.26.85l1.84 3.18C4.8 10.85 3.3 12.62 3 14.75h18c-.3-2.13-1.8-3.9-3.4-5.27M7 12.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m10 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"/>
              <path d="M3.5 15.25v5c0 .83.67 1.5 1.5 1.5h1v4.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4.5h4v4.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-4.5h1c.83 0 1.5-.67 1.5-1.5v-5h-15z"/>
            </svg>
          </div>
          <div class="app-btn-content">
            <div class="app-btn-title">Android</div>
            <div class="app-btn-subtitle">Download APK â€¢ Optimized</div>
          </div>
          <div class="app-btn-badge available">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <polyline points="20 6 9 17 4 12"/>
            </svg>
            Available
          </div>
        </a>
        
        <!-- iOS -->
        <div class="app-download-btn disabled">
          <div class="app-btn-icon ios">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
            </svg>
          </div>
          <div class="app-btn-content">
            <div class="app-btn-title">iOS</div>
            <div class="app-btn-subtitle">iPhone & iPad</div>
          </div>
          <div class="app-btn-coming-soon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
            Coming Soon
          </div>
        </div>
        
        <!-- Windows -->
        <div class="app-download-btn disabled">
          <div class="app-btn-icon windows">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 5.45v6.1l8-0.1V3.45zm8 7.45l-8-.1v6.2l8 1.1zm1-7.45v8.1l9 .1V3.45zm9 9.1l-9-.1v8l9 1.2z"/>
            </svg>
          </div>
          <div class="app-btn-content">
            <div class="app-btn-title">Windows</div>
            <div class="app-btn-subtitle">Desktop Application</div>
          </div>
          <div class="app-btn-coming-soon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
            Coming Soon
          </div>
        </div>
        
        <!-- Linux -->
        <div class="app-download-btn disabled">
          <div class="app-btn-icon linux">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.011.078c0 .05.003.097.011.146-.744.169-1.29.803-1.29 1.56 0 .86.656 1.551 1.48 1.626.196.018.382.017.559-.007.657-.08 1.231-.522 1.436-1.137.016.121.039.242.065.363.145.674.667 1.207 1.358 1.338.182.034.365.043.543.025a1.54 1.54 0 001.149-.785c.058.988.403 1.916.996 2.681.85 1.091 2.1 1.827 3.455 1.982.225.025.448.036.67.031 1.617-.033 3.096-.726 4.177-1.932.675-.749 1.13-1.69 1.292-2.684.066.294.197.565.389.796.543.652 1.395.852 2.129.498a1.54 1.54 0 00.819-1.388c.034-.338-.066-.678-.282-.963.597-.226 1.017-.793 1.017-1.459 0-.65-.369-1.208-.902-1.474.011-.06.019-.12.024-.182.065-.764-.09-1.54-.437-2.24-.58-1.165-1.502-2.13-2.446-2.963-.11-.097-.219-.192-.326-.285-.817-2.726-2.194-5.067-4.229-6.863-1.086-.958-2.336-1.645-3.695-2.009a8.757 8.757 0 00-2.107-.253zm-.005 1.506c.545 0 1.076.073 1.585.216 1.163.327 2.24.93 3.188 1.772 1.721 1.521 2.937 3.532 3.723 5.855.023.07.048.138.073.207-.31.132-.6.31-.859.531-.663.566-1.079 1.379-1.146 2.246-.011.141-.011.283.001.424-.302.126-.584.303-.829.525-.663.604-1.052 1.458-1.052 2.304 0 .117.009.234.024.349a3.525 3.525 0 00-.464.476c-.426.53-.709 1.184-.812 1.881-.038.255-.053.513-.046.771-.272.161-.53.36-.763.592-.619.617-1.006 1.46-1.073 2.339a5.097 5.097 0 01-.477-.438c-.535-.552-.92-1.239-1.096-1.98-.088-.372-.128-.757-.117-1.144.034-1.201.484-2.344 1.266-3.217.185-.207.388-.396.606-.565.015.305.062.607.14.902.172.647.538 1.24 1.049 1.695.511.455 1.155.754 1.839.855.684.101 1.392.001 2.023-.287.631-.288 1.173-.751 1.547-1.326.374-.575.568-1.249.556-1.933-.012-.684-.229-1.349-.621-1.906a3.685 3.685 0 00-1.625-1.238c-.337-.126-.697-.201-1.061-.221a2.82 2.82 0 01-.482-1.015c-.126-.551-.122-1.131.012-1.68.133-.55.395-1.06.759-1.48.364-.42.833-.743 1.358-.937a3.45 3.45 0 011.679-.179c.056.007.112.017.168.029-.264-.545-.583-1.062-.953-1.543-.843-1.095-1.945-1.94-3.174-2.437-.614-.248-1.267-.373-1.933-.373z"/>
            </svg>
          </div>
          <div class="app-btn-content">
            <div class="app-btn-title">Linux</div>
            <div class="app-btn-subtitle">AppImage & .deb</div>
          </div>
          <div class="app-btn-coming-soon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
            Coming Soon
          </div>
        </div>
      </div>
      
      <div class="app-modal-features">
        <div class="feature-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          <span>Offline Support</span>
        </div>
        <div class="feature-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          <span>Native Performance</span>
        </div>
        <div class="feature-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          <span>Push Notifications</span>
        </div>
      </div>
    </div>
    
    <div class="app-modal-footer">
      <button class="app-modal-dismiss" onclick="dismissAppDownloadModal()">
        Maybe Later
      </button>
    </div>
  </div>
</div>
<!-- InspireBoard Promo Modal -->
<div class="app-download-modal" id="inspireboard-promo" style="display:none;">
  <div class="app-modal-header">
    <div class="app-modal-title">
      ğŸ’¡ Discover InspireBoard
    </div>
    <div class="app-modal-close" onclick="closeInspirePromo()">Ã—</div>
  </div>
  
  <div class="app-modal-content">
    <p class="app-modal-text">
      Capture and organize your brilliant ideas with InspireBoard - your personal inspiration hub built right into Bluebird OS!
    </p>
    
    <div style="background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1)); padding: 1rem; border-radius: 10px; margin: 1rem 0;">
      <div style="display: flex; gap: 0.8rem; margin-bottom: 0.8rem;">
        <span style="font-size: 2rem;">ğŸ¨</span>
        <div>
          <div style="font-weight: 600; color: var(--text); margin-bottom: 0.2rem;">Visual Organization</div>
          <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">Beautiful cards with custom icons and colors</div>
        </div>
      </div>
      <div style="display: flex; gap: 0.8rem; margin-bottom: 0.8rem;">
        <span style="font-size: 2rem;">ğŸ—‚ï¸</span>
        <div>
          <div style="font-weight: 600; color: var(--text); margin-bottom: 0.2rem;">Smart Categories</div>
          <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">Tech, Design, Business, Life, Education</div>
        </div>
      </div>
      <div style="display: flex; gap: 0.8rem;">
        <span style="font-size: 2rem;">ğŸ’¾</span>
        <div>
          <div style="font-weight: 600; color: var(--text); margin-bottom: 0.2rem;">Auto-Save</div>
          <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">Your ideas are always saved locally</div>
        </div>
      </div>
    </div>

    <button onclick="launchInspireBoard()" style="width: 100%; padding: 0.9rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; font-size: 1rem; box-shadow: 0 4px 15px rgba(102,126,234,0.3); transition: all 0.2s; margin-bottom: 0.8rem;">
      âœ¨ Launch InspireBoard Now
    </button>
  </div>
  
  <div class="app-modal-footer">
    <button class="app-modal-dismiss" onclick="dismissInspirePromo()">
      Maybe Later
    </button>
  </div>
</div>
<!-- Productivity Dashboard -->
<div id="productivity-dashboard" class="window" style="width:850px; height:650px; top:8%; left:12%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <span>ğŸ“Š</span>
      Productivity Analytics
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('productivity-dashboard')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('productivity-dashboard')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('productivity-dashboard')">âœ•</div>
    </div>
  </div>
  <div class="window-body" style="padding:0; overflow-y:auto;">
    <div style="padding:2rem;">
      <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:1.5rem; margin-bottom:2rem;">
        <!-- Stats Cards -->
        <div class="stat-card">
          <div class="stat-icon">â±ï¸</div>
          <div class="stat-value" id="total-session-time">0h 0m</div>
          <div class="stat-label">Total Session Time</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸš€</div>
          <div class="stat-value" id="apps-launched">0</div>
          <div class="stat-label">Apps Launched</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ’¡</div>
          <div class="stat-value" id="ideas-created">0</div>
          <div class="stat-label">Ideas Created</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ¯</div>
          <div class="stat-value" id="productivity-score">0%</div>
          <div class="stat-label">Productivity Score</div>
        </div>
      </div>

      <!-- Charts Section -->
      <div style="background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.06); border-radius:12px; padding:1.5rem; margin-bottom:1.5rem;">
        <h3 style="color:var(--accent); margin-bottom:1rem;">App Usage Over Time</h3>
        <canvas id="usage-chart" style="max-height:250px;"></canvas>
      </div>

      <!-- Most Used Apps -->
      <div style="background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.06); border-radius:12px; padding:1.5rem;">
        <h3 style="color:var(--accent); margin-bottom:1rem;">Top Apps</h3>
        <div id="top-apps-list"></div>
      </div>
    </div>
  </div>
  <div class="window-resize" onmousedown="startResize(event, 'productivity-dashboard')"></div>
</div>
  <!-- Power Menu -->
<!-- Modern Power Menu -->
<div id="power-menu" role="menu" aria-label="Power options" class="power-menu">
  <div class="power-menu-header">
    <h3>Power Options</h3>
    <button class="power-close-btn" onclick="togglePowerMenu()" aria-label="Close">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  
  <div class="power-menu-content">
    <div class="power-item lock" onclick="lockScreen()" role="menuitem" tabindex="0">
      <div class="power-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
        </svg>
      </div>
      <div class="power-text">
        <div class="power-title">Lock</div>
        <div class="power-subtitle">Lock your screen</div>
      </div>
      <div class="power-shortcut">Win+L</div>
    </div>
    
    <div class="power-item sleep" onclick="sleepSystem()" role="menuitem" tabindex="0">
      <div class="power-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </div>
      <div class="power-text">
        <div class="power-title">Sleep</div>
        <div class="power-subtitle">Low power mode</div>
      </div>
    </div>
    
    <div class="power-item sign-out" onclick="signOutUser()" role="menuitem" tabindex="0">
      <div class="power-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
      </div>
      <div class="power-text">
        <div class="power-title">Sign Out</div>
        <div class="power-subtitle">Close all apps</div>
      </div>
    </div>
    
    <div class="power-item restart" onclick="restartSystem()" role="menuitem" tabindex="0">
      <div class="power-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 4 23 10 17 10"></polyline>
          <polyline points="1 20 1 14 7 14"></polyline>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </svg>
      </div>
      <div class="power-text">
        <div class="power-title">Restart</div>
        <div class="power-subtitle">Restart your device</div>
      </div>
    </div>
    
    <div class="power-item shutdown" onclick="shutdownSystem()" role="menuitem" tabindex="0">
      <div class="power-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
          <line x1="12" y1="2" x2="12" y2="12"></line>
        </svg>
      </div>
      <div class="power-text">
        <div class="power-title">Shut Down</div>
        <div class="power-subtitle">Turn off your device</div>
      </div>
    </div>
  </div>
  
  <div class="power-menu-footer">
    <div class="power-footer-info">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="16" x2="12" y2="12"></line>
        <line x1="12" y1="8" x2="12.01" y2="8"></line>
      </svg>
      <span>Unsaved work will be lost</span>
    </div>
  </div>
</div>
<!-- File Explorer Window -->
<div id="file-explorer-win" class="window" style="width:900px; height:650px; top:8%; left:15%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px; height:16px;">
        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
      </svg>
      File Explorer
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('file-explorer-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('file-explorer-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('file-explorer-win')">âœ•</div>
    </div>
  </div>
  
  <div class="window-body" style="padding: 0; display: flex; flex-direction: column; overflow: hidden;">
    <!-- Explorer Toolbar -->
    <div class="explorer-toolbar">
      <div class="explorer-nav-buttons">
        <button class="explorer-nav-btn" onclick="explorerGoBack()" title="Back" id="explorer-back-btn" disabled>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
          </svg>
        </button>
        <button class="explorer-nav-btn" onclick="explorerGoForward()" title="Forward" id="explorer-forward-btn" disabled>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </button>
        <button class="explorer-nav-btn" onclick="explorerGoUp()" title="Up" id="explorer-up-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="19" x2="12" y2="5"></line>
            <polyline points="5 12 12 5 19 12"></polyline>
          </svg>
        </button>
        <button class="explorer-nav-btn" onclick="explorerRefresh()" title="Refresh">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="23 4 23 10 17 10"></polyline>
            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
          </svg>
        </button>
      </div>
      
      <div class="explorer-address-bar">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
        </svg>
        <input type="text" id="explorer-path" readonly value="/" onclick="this.select()">
      </div>
      
      <div class="explorer-view-buttons">
        <button class="explorer-view-btn active" onclick="setExplorerView('grid')" title="Grid view" id="view-grid-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
        </button>
        <button class="explorer-view-btn" onclick="setExplorerView('list')" title="List view" id="view-list-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
        </button>
      </div>
      
      <div class="explorer-search">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input type="text" placeholder="Search files..." id="explorer-search" oninput="searchFiles(this.value)">
      </div>
    </div>
    
    <!-- Explorer Content -->
    <div class="explorer-content">
      <!-- Sidebar -->
      <div class="explorer-sidebar">
        <div class="sidebar-section">
          <div class="sidebar-title">Quick Access</div>
          <div class="sidebar-item active" onclick="navigateToFolder('/')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            </svg>
            <span>Home</span>
          </div>
          <div class="sidebar-item" onclick="navigateToFolder('/Desktop')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <span>Desktop</span>
          </div>
          <div class="sidebar-item" onclick="navigateToFolder('/Documents')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
            </svg>
            <span>Documents</span>
          </div>
          <div class="sidebar-item" onclick="navigateToFolder('/Downloads')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            <span>Downloads</span>
          </div>
          <div class="sidebar-item" onclick="navigateToFolder('/Pictures')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
            <span>Pictures</span>
          </div>
          <div class="sidebar-item" onclick="navigateToFolder('/Music')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 18V5l12-2v13"></path>
              <circle cx="6" cy="18" r="3"></circle>
              <circle cx="18" cy="16" r="3"></circle>
            </svg>
            <span>Music</span>
          </div>
          <div class="sidebar-item" onclick="navigateToFolder('/Videos')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="23 7 16 12 23 17 23 7"></polygon>
              <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
            </svg>
            <span>Videos</span>
          </div>
        </div>
        
        <div class="sidebar-section">
          <div class="sidebar-title">Storage</div>
          <div class="storage-info">
            <div class="storage-bar">
              <div class="storage-used" id="storage-used-bar" style="width: 45%"></div>
            </div>
            <div class="storage-text">
              <span id="storage-used">4.5 GB</span> of <span id="storage-total">10 GB</span> used
            </div>
          </div>
        </div>
      </div>
      
      <!-- Main Explorer Area -->
      <div class="explorer-main">
        <div class="explorer-path-breadcrumb" id="path-breadcrumb">
          <span onclick="navigateToFolder('/')">Home</span>
        </div>
        
        <div class="explorer-items" id="explorer-items">
          <!-- Items will be dynamically loaded here -->
        </div>
      </div>
    </div>
    
    <!-- Status Bar -->
    <div class="explorer-statusbar">
      <span id="explorer-status">Ready</span>
      <span id="explorer-items-count">0 items</span>
    </div>
  </div>
  
  <div class="window-resize" onmousedown="startResize(event, 'file-explorer-win')"></div>
</div>

<!-- File Preview Modal -->
<div id="file-preview-modal" style="display: none;">
  <div class="preview-overlay" onclick="closeFilePreview()"></div>
  <div class="preview-container">
    <div class="preview-header">
      <div class="preview-title" id="preview-file-name">File Preview</div>
      <div class="preview-actions">
        <button class="preview-btn" onclick="downloadPreviewFile()" title="Download">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
        </button>
        <button class="preview-btn" onclick="closeFilePreview()" title="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
    <div class="preview-body" id="preview-body">
      <!-- Preview content will be loaded here -->
    </div>
  </div>
</div>

<!-- Music Player Window -->
<div id="music-player-win" class="window" style="width:420px; height:580px; top:15%; left:35%; display:none;">
  <div class="window-header">
    <div class="window-title">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px; height:16px;">
        <path d="M9 18V5l12-2v13"></path>
        <circle cx="6" cy="18" r="3"></circle>
        <circle cx="18" cy="16" r="3"></circle>
      </svg>
      Music Player
    </div>
    <div class="window-controls">
      <div class="win-btn win-min" onclick="minimizeWindow('music-player-win')">âˆ’</div>
      <div class="win-btn win-max" onclick="maximizeWindow('music-player-win')">â–¡</div>
      <div class="win-btn win-close" onclick="closeWindow('music-player-win')">âœ•</div>
    </div>
  </div>
  
  <div class="window-body" style="padding: 0; display: flex; flex-direction: column; overflow: hidden;">
    <!-- Album Art -->
    <div class="music-player-art">
      <div class="album-art" id="album-art">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="12" cy="12" r="10"></circle>
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 2v20"></path>
        </svg>
      </div>
      <div class="music-visualizer" id="music-visualizer">
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
      </div>
    </div>
    
    <!-- Now Playing Info -->
    <div class="music-info">
      <div class="music-title" id="music-title">No track selected</div>
      <div class="music-artist" id="music-artist">Select a song to play</div>
    </div>
    
    <!-- Progress Bar -->
    <div class="music-progress-container">
      <span class="music-time" id="current-time">0:00</span>
      <div class="music-progress-bar" onclick="seekMusic(event)">
        <div class="music-progress-fill" id="music-progress"></div>
        <div class="music-progress-handle" id="music-handle"></div>
      </div>
      <span class="music-time" id="total-time">0:00</span>
    </div>
    
    <!-- Controls -->
    <div class="music-controls">
      <button class="music-control-btn" onclick="toggleShuffle()" id="shuffle-btn" title="Shuffle">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="16 3 21 3 21 8"></polyline>
          <line x1="4" y1="20" x2="21" y2="3"></line>
          <polyline points="21 16 21 21 16 21"></polyline>
          <line x1="15" y1="15" x2="21" y2="21"></line>
          <line x1="4" y1="4" x2="9" y2="9"></line>
        </svg>
      </button>
      
      <button class="music-control-btn" onclick="previousTrack()" title="Previous">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="19 20 9 12 19 4 19 20"></polygon>
          <line x1="5" y1="19" x2="5" y2="5"></line>
        </svg>
      </button>
      
      <button class="music-control-btn music-play-btn" onclick="togglePlayPause()" id="play-pause-btn" title="Play">
        <svg id="play-icon" viewBox="0 0 24 24" fill="currentColor" stroke="none">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
        <svg id="pause-icon" viewBox="0 0 24 24" fill="currentColor" stroke="none" style="display: none;">
          <rect x="6" y="4" width="4" height="16"></rect>
          <rect x="14" y="4" width="4" height="16"></rect>
        </svg>
      </button>
      
      <button class="music-control-btn" onclick="nextTrack()" title="Next">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="5 4 15 12 5 20 5 4"></polygon>
          <line x1="19" y1="5" x2="19" y2="19"></line>
        </svg>
      </button>
      
      <button class="music-control-btn" onclick="toggleRepeat()" id="repeat-btn" title="Repeat">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="17 1 21 5 17 9"></polyline>
          <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
          <polyline points="7 23 3 19 7 15"></polyline>
          <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
        </svg>
      </button>
    </div>
    
    <!-- Volume Control -->
    <div class="music-volume">
      <button class="volume-btn" onclick="toggleMute()" id="volume-btn">
        <svg id="volume-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
        </svg>
      </button>
      <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="70" oninput="setVolume(this.value)">
    </div>
    
    <!-- Playlist -->
    <div class="music-playlist">
      <div class="playlist-header">
        <span>Playlist</span>
        <button class="playlist-clear-btn" onclick="clearPlaylist()" title="Clear playlist">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="playlist-items" id="playlist-items">
        <div class="playlist-empty">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18V5l12-2v13"></path>
            <circle cx="6" cy="18" r="3"></circle>
            <circle cx="18" cy="16" r="3"></circle>
          </svg>
          <p>No songs in playlist</p>
          <p class="playlist-hint">Open File Explorer and double-click on music files</p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="window-resize" onmousedown="startResize(event, 'music-player-win')"></div>
</div>

<!-- Hidden audio element -->
<audio id="music-audio"></audio>
  <!-- Lock Screen -->
 <!-- Stunning Lock Screen -->
<div id="lock-screen" class="lock-screen">
  <!-- Animated Background -->
  <div class="lock-bg">
    <div class="lock-bg-gradient"></div>
    <div class="lock-bg-overlay"></div>
  </div>
  
  <!-- Lock Screen Content -->
  <div class="lock-content">
    <!-- Top Section - Time & Date -->
    
    <div class="lock-top">
      <div class="lock-time-container">
        <div class="lock-time" id="lock-time">12:00</div>
        <div class="lock-date" id="lock-date">Monday, January 24</div>
      </div>
      
<!-- Lock Screen Widgets (Add these to your lock screen top section) -->
<!-- Replace or add after the existing lock-widgets div -->
<div class="lock-widgets-extended">
  <!-- Weather Widget -->
  <div class="lock-widget-card weather-widget" id="weather-widget">
    <div class="widget-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
        <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
      </svg>
    </div>
    <div class="widget-content">
      <div class="widget-value" id="weather-temp">72Â°F</div>
      <div class="widget-label" id="weather-condition">Partly Cloudy</div>
    </div>
  </div>
  
  <!-- Calendar Widget -->
  <div class="lock-widget-card calendar-widget">
    <div class="widget-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
    </div>
    <div class="widget-content">
      <div class="widget-value" id="calendar-day">24</div>
      <div class="widget-label">Events Today</div>
    </div>
  </div>
  
  <!-- Battery Widget -->
  <div class="lock-widget-card battery-widget">
    <div class="widget-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
        <rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect>
        <line x1="23" y1="13" x2="23" y2="11"></line>
      </svg>
    </div>
    <div class="widget-content">
      <div class="widget-value" id="battery-level">85%</div>
      <div class="widget-label" id="battery-status">Charging</div>
    </div>
  </div>
  
  <!-- Network Widget -->
  <div class="lock-widget-card network-widget">
    <div class="widget-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
        <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
        <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
        <circle cx="12" cy="20" r="1" fill="currentColor"></circle>
      </svg>
    </div>
    <div class="widget-content">
      <div class="widget-value">WiFi</div>
      <div class="widget-label" id="network-name">Home Network</div>
    </div>
  </div>
  
  <!-- Music Widget -->
  <div class="lock-widget-card music-widget" id="music-widget" style="display: none;">
    <div class="widget-music-info">
      <div class="widget-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
          <path d="M9 18V5l12-2v13"></path>
          <circle cx="6" cy="18" r="3"></circle>
          <circle cx="18" cy="16" r="3"></circle>
        </svg>
      </div>
      <div class="music-details">
        <div class="music-title">Song Title</div>
        <div class="music-artist">Artist Name</div>
      </div>
    </div>
    <div class="music-controls">
      <button class="music-btn" onclick="musicPrevious()">
        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
          <polygon points="19 20 9 12 19 4 19 20"></polygon>
          <line x1="5" y1="19" x2="5" y2="5"></line>
        </svg>
      </button>
      <button class="music-btn play" onclick="musicPlayPause()">
        <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
      </button>
      <button class="music-btn" onclick="musicNext()">
        <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
          <polygon points="5 4 15 12 5 20 5 4"></polygon>
          <line x1="19" y1="5" x2="19" y2="19"></line>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Notifications Widget -->
  <div class="lock-widget-card notifications-widget" onclick="showLockNotifications()">
    <div class="widget-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
      </svg>
    </div>
    <div class="widget-content">
      <div class="widget-value" id="notification-count">3</div>
      <div class="widget-label">Notifications</div>
    </div>
  </div>
</div>

<!-- Password Setup Modal -->
<div id="password-setup-modal" class="security-modal" style="display: none;">
  <div class="security-modal-content">
    <div class="security-modal-header">
      <h3>Set Up Security</h3>
      <button class="close-btn" onclick="closePasswordSetup()">Ã—</button>
    </div>
    <div class="security-modal-body">
      <div class="security-step active" id="step-1">
        <h4>Create Password</h4>
        <div class="form-group">
          <label>Enter Password</label>
          <input type="password" id="new-password" class="security-input" placeholder="Create a strong password">
        </div>
        <div class="form-group">
          <label>Confirm Password</label>
          <input type="password" id="confirm-password" class="security-input" placeholder="Re-enter password">
        </div>
        <div class="password-strength">
          <div class="strength-bar">
            <div class="strength-fill" id="strength-fill"></div>
          </div>
          <span class="strength-text" id="strength-text">Password strength</span>
        </div>
        <button class="security-btn primary" onclick="nextToRecovery()">Next</button>
      </div>
      
      <div class="security-step" id="step-2">
        <h4>Security Questions</h4>
        <p class="security-subtitle">Answer these questions to recover your account</p>
        
        <div class="form-group">
          <label>Question 1</label>
          <select id="question-1" class="security-input">
            <option value="">Select a question</option>
            <option value="pet">What was the name of your first pet?</option>
            <option value="city">In what city were you born?</option>
            <option value="school">What was the name of your elementary school?</option>
            <option value="friend">What is your best friend's name?</option>
            <option value="food">What is your favorite food?</option>
          </select>
          <input type="text" id="answer-1" class="security-input" placeholder="Your answer" style="margin-top: 8px;">
        </div>
        
        <div class="form-group">
          <label>Question 2</label>
          <select id="question-2" class="security-input">
            <option value="">Select a question</option>
            <option value="book">What is your favorite book?</option>
            <option value="movie">What is your favorite movie?</option>
            <option value="teacher">Who was your favorite teacher?</option>
            <option value="car">What was your first car?</option>
            <option value="job">What was your first job?</option>
          </select>
          <input type="text" id="answer-2" class="security-input" placeholder="Your answer" style="margin-top: 8px;">
        </div>
        
        <div class="form-group">
          <label>Question 3</label>
          <select id="question-3" class="security-input">
            <option value="">Select a question</option>
            <option value="mother">What is your mother's maiden name?</option>
            <option value="street">What street did you grow up on?</option>
            <option value="color">What is your favorite color?</option>
            <option value="hobby">What is your favorite hobby?</option>
            <option value="place">What is your dream vacation destination?</option>
          </select>
          <input type="text" id="answer-3" class="security-input" placeholder="Your answer" style="margin-top: 8px;">
        </div>
        
        <div class="security-actions">
          <button class="security-btn secondary" onclick="backToPassword()">Back</button>
          <button class="security-btn primary" onclick="savePasswordAndQuestions()">Complete Setup</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Password Recovery Modal -->
<div id="password-recovery-modal" class="security-modal" style="display: none;">
  <div class="security-modal-content">
    <div class="security-modal-header">
      <h3>Recover Account</h3>
      <button class="close-btn" onclick="closePasswordRecovery()">Ã—</button>
    </div>
    <div class="security-modal-body">
      <p class="security-subtitle">Answer your security questions to reset your password</p>
      
      <div class="form-group">
        <label id="recovery-question-1-label">Question 1</label>
        <input type="text" id="recovery-answer-1" class="security-input" placeholder="Your answer">
      </div>
      
      <div class="form-group">
        <label id="recovery-question-2-label">Question 2</label>
        <input type="text" id="recovery-answer-2" class="security-input" placeholder="Your answer">
      </div>
      
      <div class="form-group">
        <label id="recovery-question-3-label">Question 3</label>
        <input type="text" id="recovery-answer-3" class="security-input" placeholder="Your answer">
      </div>
      
      <div class="recovery-error" id="recovery-error" style="display: none;">
        Incorrect answers. Please try again.
      </div>
      
      <div class="security-actions">
        <button class="security-btn secondary" onclick="closePasswordRecovery()">Cancel</button>
        <button class="security-btn primary" onclick="verifyRecoveryAnswers()">Verify</button>
      </div>
    </div>
  </div>
</div>

<!-- Reset Password Modal -->
<div id="reset-password-modal" class="security-modal" style="display: none;">
  <div class="security-modal-content">
    <div class="security-modal-header">
      <h3>Reset Password</h3>
    </div>
    <div class="security-modal-body">
      <div class="form-group">
        <label>New Password</label>
        <input type="password" id="reset-new-password" class="security-input" placeholder="Enter new password">
      </div>
      <div class="form-group">
        <label>Confirm Password</label>
        <input type="password" id="reset-confirm-password" class="security-input" placeholder="Confirm new password">
      </div>
      <button class="security-btn primary" onclick="saveNewPassword()">Reset Password</button>
    </div>
  </div>
</div>
    </div>
    
    <!-- Center Section - User Info -->
    <div class="lock-center">
      <div class="lock-avatar-wrapper">
        <div class="lock-avatar">
          <div class="avatar-ring"></div>
          <div class="avatar-content">
            <span id="lock-avatar-text">N</span>
            <img id="lock-avatar-img" style="display:none;" alt="User avatar">
          </div>
        </div>
      </div>
      
      <div class="lock-user-info">
        <div class="lock-username" id="lock-username">Norbert</div>
        <div class="lock-status">Bluebird OS</div>
      </div>
      
      <!-- Password Input (appears on unlock attempt) -->
      <div class="lock-password-container" id="lock-password-container" style="display: none;">
        <div class="password-input-wrapper">
          <input 
            type="password" 
            id="lock-password-input" 
            class="lock-password-input" 
            placeholder="Enter password"
            autocomplete="current-password"
          >
          <button class="password-show-btn" onclick="togglePasswordVisibility()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
        </div>
        <div class="lock-error-message" id="lock-error-message" style="display: none;">
          Incorrect password
        </div>
      </div>
      
      <!-- Unlock Button -->
      <button class="lock-unlock-btn" id="lock-unlock-btn" onclick="showPasswordInput()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
        </svg>
        <span>Sign In</span>
      </button>
      
      <div class="lock-hint">Press Enter or click to unlock</div>
    </div>
    
    <!-- Bottom Section - Quick Actions -->
   <!-- Update the lock screen bottom buttons to this: -->
<div class="lock-bottom">
  <div class="lock-quick-actions">
    <button class="lock-action-btn" type="button" title="Accessibility" onclick="event.stopPropagation(); toggleLockAccessibility();">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <circle cx="12" cy="12" r="10"></circle>
        <circle cx="12" cy="12" r="4"></circle>
        <line x1="21.17" y1="8" x2="12" y2="8"></line>
        <line x1="3.95" y1="6.06" x2="8.54" y2="14"></line>
        <line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>
      </svg>
    </button>
    
    <button class="lock-action-btn" type="button" title="Network" onclick="event.stopPropagation(); toggleLockWifi();">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
        <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
        <circle cx="12" cy="20" r="1" fill="currentColor"></circle>
      </svg>
    </button>
    
    <button class="lock-action-btn" type="button" title="Power" onclick="event.stopPropagation(); toggleLockPower();">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
        <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
        <line x1="12" y1="2" x2="12" y2="12"></line>
      </svg>
    </button>
  </div>
</div>
  </div>
</div>
<!-- Lock Screen Mini Panels -->

<!-- Mini WiFi Panel (Lock Screen) -->
<div id="lock-wifi-panel" class="lock-mini-panel" style="display: none;">
  <div class="lock-panel-header">
    <h4>Network</h4>
    <button class="lock-panel-close" onclick="closeLockPanel('lock-wifi-panel')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  <div class="lock-panel-content">
    <div class="lock-network-status">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32" height="32" class="status-icon-large online">
        <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
        <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
        <circle cx="12" cy="20" r="1" fill="currentColor"></circle>
      </svg>
      <div class="status-text">
        <div class="status-title">Connected</div>
        <div class="status-subtitle">Internet Available</div>
      </div>
    </div>
    
    <div class="lock-network-toggle">
      <div class="toggle-item">
        <span>Wi-Fi</span>
        <label class="toggle-switch">
          <input type="checkbox" checked onchange="toggleWifiState(this)">
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="toggle-item">
        <span>Airplane Mode</span>
        <label class="toggle-switch">
          <input type="checkbox" onchange="toggleAirplaneMode(this)">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>
  </div>
</div>

<!-- Mini Power Panel (Lock Screen) -->
<div id="lock-power-panel" class="lock-mini-panel" style="display: none;">
  <div class="lock-panel-header">
    <h4>Power</h4>
    <button class="lock-panel-close" onclick="closeLockPanel('lock-power-panel')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  <div class="lock-panel-content">
    <div class="lock-power-options">
      <button class="lock-power-option sleep" onclick="sleepFromLock()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <span>Sleep</span>
      </button>
      
      <button class="lock-power-option restart" onclick="restartFromLock()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 4 23 10 17 10"></polyline>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </svg>
        <span>Restart</span>
      </button>
      
      <button class="lock-power-option shutdown" onclick="shutdownFromLock()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
          <line x1="12" y1="2" x2="12" y2="12"></line>
        </svg>
        <span>Shut Down</span>
      </button>
    </div>
  </div>
</div>

<!-- Mini Accessibility Panel (Lock Screen) -->
<div id="lock-accessibility-panel" class="lock-mini-panel" style="display: none;">
  <div class="lock-panel-header">
    <h4>Accessibility</h4>
    <button class="lock-panel-close" onclick="closeLockPanel('lock-accessibility-panel')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  <div class="lock-panel-content">
    <div class="accessibility-options">
      <div class="accessibility-item" onclick="toggleHighContrast()">
        <div class="accessibility-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M12 2v20"></path>
          </svg>
        </div>
        <div class="accessibility-text">
          <div class="accessibility-title">High Contrast</div>
          <div class="accessibility-subtitle">Increase visibility</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="high-contrast-toggle" onchange="toggleHighContrast()">
          <span class="toggle-slider"></span>
        </label>
      </div>
      
      <div class="accessibility-item" onclick="toggleLargeText()">
        <div class="accessibility-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <polyline points="4 7 4 4 20 4 20 7"></polyline>
            <line x1="9" y1="20" x2="15" y2="20"></line>
            <line x1="12" y1="4" x2="12" y2="20"></line>
          </svg>
        </div>
        <div class="accessibility-text">
          <div class="accessibility-title">Large Text</div>
          <div class="accessibility-subtitle">Easier to read</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="large-text-toggle" onchange="toggleLargeText()">
          <span class="toggle-slider"></span>
        </label>
      </div>
      
      <div class="accessibility-item" onclick="toggleScreenReader()">
        <div class="accessibility-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
          </svg>
        </div>
        <div class="accessibility-text">
          <div class="accessibility-title">Screen Reader</div>
          <div class="accessibility-subtitle">Audio feedback</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="screen-reader-toggle" onchange="toggleScreenReader()">
          <span class="toggle-slider"></span>
        </label>
      </div>
      
      <div class="accessibility-item" onclick="toggleReduceMotion()">
        <div class="accessibility-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
        </div>
        <div class="accessibility-text">
          <div class="accessibility-title">Reduce Motion</div>
          <div class="accessibility-subtitle">Minimize animations</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="reduce-motion-toggle" onchange="toggleReduceMotion()">
          <span class="toggle-slider"></span>
        </label>
      </div>
      
      <div class="accessibility-item" onclick="toggleColorFilters()">
        <div class="accessibility-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M12 2a10 10 0 0 0 0 20"></path>
          </svg>
        </div>
        <div class="accessibility-text">
          <div class="accessibility-title">Color Filters</div>
          <div class="accessibility-subtitle">For color blindness</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="color-filter-toggle" onchange="toggleColorFilters()">
          <span class="toggle-slider"></span>
        </label>
      </div>
      
      <div class="accessibility-item" onclick="toggleMagnifier()">
        <div class="accessibility-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
            <line x1="11" y1="8" x2="11" y2="14"></line>
            <line x1="8" y1="11" x2="14" y2="11"></line>
          </svg>
        </div>
        <div class="accessibility-text">
          <div class="accessibility-title">Magnifier</div>
          <div class="accessibility-subtitle">Zoom in on screen</div>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="magnifier-toggle" onchange="toggleMagnifier()">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>
  </div>
</div>
<!--<script>
console.log("Booting Bluebird OS...");

// ---------- Sequential Loader ----------
function loadScriptsSequentially(scripts, onComplete) {
  let i = 0;

  function loadNext() {
    if (i >= scripts.length) {
      console.log("âœ… Bluebird fully loaded!");
      if (onComplete) onComplete();
      return;
    }

    const script = document.createElement("script");
    script.src = scripts[i];
    script.onload = () => {
      console.log("Loaded:", scripts[i]);
      i++;
      loadNext();
    };
    script.onerror = () => {
      console.error("âŒ Failed to load:", scripts[i]);
      i++;
      loadNext();
    };

    document.body.appendChild(script);
  }

  loadNext();
}

// ---------- Boot Order ----------
const bluebirdScripts = [

  /* ==== GLOBALS ==== */
  

  /* ==== CORE BOOT ==== */
  "core/boot/boot.js",
  "core/boot/lock_screen.js",
  "core/boot/power.js",
  "core/boot/screen_pop_ups.js",

  /* ==== MAIN SETTINGS ==== */
  "core/main_settings/animations.js",
    "core/utilities/appinstall.js",
  "core/main_settings/await.js",
  "core/main_settings/main.js",
  "core/main_settings/themes.js",

  /* ==== SYSTEM APPS ==== */
  "core/system_apps/applauncher.js",
  "core/system_apps/appsuggestions.js",
  "core/system_apps/calender.js",
  "core/system_apps/gesturecontrol.js",
  "core/system_apps/inspireboard.js",
  "core/system_apps/livecaptionmode.js",
  "core/system_apps/mirembecomfort.js",
  "core/system_apps/quicksettings.js",
  "core/system_apps/voicecontrol.js",

  /* ==== UTILITIES ==== */
  "core/utilities/window_snap_system.js",

  "core/utilities/Bluebirdapppackage.js",
  "core/utilities/permission.js",

  /* ==== FUTURE AI ==== */
  // "/core/ai/ai.js"
];

// ---------- Start Loading ----------
loadScriptsSequentially(bluebirdScripts, () => {
  console.log("ğŸ‰ Bluebird scripts finished loading.");

  // Initialize Desktop
  if (typeof initializeBluebirdDesktop === "function") {
    initializeBluebirdDesktop();
  }

  // Initialize Taskbar
  if (typeof initializeTaskbar === "function") {
    initializeTaskbar();
  }

  // Initialize AI (if future AI loaded)
  if (typeof initializeBluebirdAI === "function") {
    initializeBluebirdAI();
  }

  console.log("ğŸ’» Bluebird OS ready!");
});
</script>--> 

<script>
(function() {
    const scripts = [
        "/core/system_apps/mirembecomfort.js",
        "/core/boot/boot.js",
        "/core/main_settings/await.js",
        "/core/boot/screen_pop_ups.js",
        "/core/main_settings/animations.js",
        "/core/system_apps/inspireboard.js",
        "/core/boot/power.js",
        "/core/boot/lock_screen.js",
        "/core/utilities/appinstall.js",
        "/core/main_settings/main.js",
        "/core/main_settings/themes.js",
        "/core/1.js",
        "/core/utilities/window_snap_system.js",
        "/core/utilities/permission.js",
        "/core/system_apps/quicksettings.js",
        "/core/system_apps/analytics.js",
        "/core/system_apps/applauncher.js",
        "/core/system_apps/appsuggestions.js",
        "/core/system_apps/calender.js",
        "/core/system_apps/gesturecontrol.js",
        "/core/system_apps/livecaptionmode.js",
        "/core/system_apps/voicecontrol.js",
        "/core/system_apps/File Explorer/file_preview.js",
        "/core/system_apps/File Explorer/file_upload.js",
        "/core/system_apps/File Explorer/main.js",
        "/core/system_apps/File Explorer/music_player.js", 
        "/core/boot/notification_center.js", 

    ];

    function loadScript(src) {
        return new Promise((resolve, reject) => {
            const script = document.createElement('script');
            script.src = src;
            script.onload = resolve;
            script.onerror = () => reject(new Error(`Failed to load script: ${src}`));
            document.head.appendChild(script);
        });
    }

    async function loadScriptsSequentially() {
        for (const script of scripts) {
            try {
                await loadScript(script);
                console.log(`Loaded: ${script}`);
            } catch (error) {
                console.error(error);
                // Continue loading other scripts even if one fails
            }
        }
        console.log('All scripts loaded successfully');
    }

    // Start loading scripts when the DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadScriptsSequentially);
    } else {
        loadScriptsSequentially();
    }
})();
// ===== WINDOWS 11 NOTIFICATION SYSTEM =====
// This is a standalone system that won't conflict with your existing code

(function() {
    'use strict';
    
    // SVG Icons for Windows 11
    const WIN11_ICONS = {
        info: `<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>`,
        success: `<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>`,
        warning: `<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>`,
        error: `<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>`,
        online: `<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>`,
        offline: `<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"/>`,
        update: `<path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0 1.36-1.35 2.04-3.16 2.04-4.98h-2c0 1.98-.78 3.81-2.04 5.18-3.31 3.28-8.72 3.25-12.01-.05-3.29-3.29-3.26-8.74.03-12.01 3.27-3.26 8.58-3.26 11.85 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"/>`,
        security: `<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>`,
        battery: `<path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.34C7 21.4 7.6 22 8.33 22h7.34c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"/>`,
        wifi: `<path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/>`,
        bell: `<path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>`,
        calendar: `<path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/>`,
        settings: `<path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>`
    };

    // State
    let win11Notifications = [];
    let win11NotificationId = 0;
    let win11IsDoNotDisturb = false;
    
    // Settings
    const win11Settings = {
        showToasts: true,
        toastDuration: 5000,
        soundEnabled: false,
        autoRemoveAfter: 24 * 60 * 60 * 1000
    };

    // Initialize the system
    function win11Init() {
        // Load settings from localStorage
        win11LoadSettings();
        
        // Setup event listeners
        win11SetupEvents();
        
        // Setup empty notification list
        win11RenderNotifications();
        
        // Show welcome notification
        setTimeout(() => {
            win11AddNotification(
                'Welcome to Windows 11',
                'System is ready and online',
                'success',
                'update',
                [
                    { text: 'Get Started', action: 'open-tour', type: 'primary' },
                    { text: 'Dismiss', action: 'dismiss', type: 'secondary' }
                ]
            );
        }, 1500);
    }

    // Load settings
    function win11LoadSettings() {
        try {
            const saved = localStorage.getItem('win11NotificationSettings');
            if (saved) {
                Object.assign(win11Settings, JSON.parse(saved));
            }
            win11IsDoNotDisturb = localStorage.getItem('win11DoNotDisturb') === 'true';
            win11UpdateDNDUI();
        } catch (e) {
            console.warn('Could not load notification settings:', e);
        }
    }

    // Save settings
    function win11SaveSettings() {
        try {
            localStorage.setItem('win11NotificationSettings', JSON.stringify(win11Settings));
            localStorage.setItem('win11DoNotDisturb', win11IsDoNotDisturb);
        } catch (e) {
            console.warn('Could not save notification settings:', e);
        }
    }

    // Setup event listeners
    function win11SetupEvents() {
        // DND toggle
        const dndToggle = document.getElementById('win11-dnd-toggle');
        if (dndToggle) {
            dndToggle.addEventListener('click', win11ToggleDoNotDisturb);
        }
        
        // Clear all button
        const clearAll = document.getElementById('win11-clear-all');
        if (clearAll) {
            clearAll.addEventListener('click', win11ClearAllNotifications);
        }
        
        // Close notification center when clicking outside
        document.addEventListener('click', (e) => {
            const center = document.getElementById('win11-notification-center');
            if (!center.contains(e.target) && !e.target.closest('[data-win11-notification-btn]')) {
                center.classList.remove('open');
            }
        });
        
        // Online/offline events
        window.addEventListener('online', () => {
            win11AddNotification(
                'Connection Restored',
                'You are now back online',
                'success',
                'wifi'
            );
        });
        
        window.addEventListener('offline', () => {
            win11AddNotification(
                'Connection Lost',
                'You are currently offline',
                'warning',
                'wifi'
            );
        });
    }

    // Toggle notification center
    function win11ToggleNotificationCenter() {
        const center = document.getElementById('win11-notification-center');
        if (center.classList.contains('open')) {
            center.classList.remove('open');
        } else {
            center.classList.add('open');
            win11MarkAllAsRead();
        }
    }

    // Add a notification
    function win11AddNotification(title, message, type = 'info', icon = 'bell', actions = [], metadata = {}) {
        // Don't show notifications if DND is on (unless urgent)
        if (win11IsDoNotDisturb && !metadata.urgent) {
            return null;
        }
        
        const id = win11NotificationId++;
        const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        
        const notification = {
            id,
            title,
            message,
            type,
            icon,
            actions,
            time,
            timestamp: Date.now(),
            read: false,
            metadata
        };
        
        win11Notifications.unshift(notification);
        win11RenderNotifications();
        win11UpdateBadge();
        
        // Show toast
        if (win11Settings.showToasts) {
            win11ShowToast(notification);
        }
        
        // Auto-remove
        if (win11Settings.autoRemoveAfter > 0) {
            setTimeout(() => win11RemoveNotification(id), win11Settings.autoRemoveAfter);
        }
        
        // Save to localStorage
        win11SaveNotifications();
        
        return id;
    }

    // Show toast notification
    function win11ShowToast(notification) {
        const toastId = `win11-toast-${Date.now()}`;
        const toast = document.createElement('div');
        toast.id = toastId;
        toast.className = `win11-toast-notification`;
        
        let actionsHTML = '';
        if (notification.actions && notification.actions.length > 0) {
            actionsHTML = `
                <div class="win11-toast-actions">
                    ${notification.actions.map(action => `
                        <button class="win11-toast-action-btn ${action.type || 'secondary'}" 
                                data-action="${action.action}"
                                data-notification-id="${notification.id}">
                            ${action.text}
                        </button>
                    `).join('')}
                </div>
            `;
        }
        
        toast.innerHTML = `
            <div class="win11-toast-header">
                <div class="win11-toast-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        ${win11GetIconSVG(notification.icon)}
                    </svg>
                </div>
                <div class="win11-toast-content">
                    <div class="win11-toast-title">${notification.title}</div>
                    <div class="win11-toast-message">${notification.message}</div>
                </div>
                <button class="win11-toast-close" onclick="this.closest('.win11-toast-notification').remove()">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            ${actionsHTML}
            <div class="win11-toast-progress"></div>
        `;
        
        const container = document.getElementById('win11-toast-container');
        if (container) {
            container.appendChild(toast);
            
            // Animate in
            setTimeout(() => toast.classList.add('show'), 10);
            
            // Auto-remove
            setTimeout(() => {
                toast.classList.remove('show');
                toast.classList.add('hiding');
                setTimeout(() => toast.remove(), 300);
            }, win11Settings.toastDuration);
            
            // Add action button events
            toast.querySelectorAll('.win11-toast-action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const action = e.target.dataset.action;
                    const notificationId = parseInt(e.target.dataset.notificationId);
                    win11HandleAction(notificationId, action);
                    toast.remove();
                });
            });
            
            // Click toast to open notification center
            toast.addEventListener('click', (e) => {
                if (!e.target.closest('.win11-toast-close') && !e.target.closest('.win11-toast-action-btn')) {
                    win11ToggleNotificationCenter();
                    toast.remove();
                }
            });
        }
        
        return toastId;
    }

    // Remove notification
    function win11RemoveNotification(id) {
        win11Notifications = win11Notifications.filter(n => n.id !== id);
        win11RenderNotifications();
        win11UpdateBadge();
        win11SaveNotifications();
    }

    // Mark as read
    function win11MarkAsRead(id) {
        const notification = win11Notifications.find(n => n.id === id);
        if (notification) {
            notification.read = true;
            win11UpdateBadge();
            win11SaveNotifications();
        }
    }

    // Mark all as read
    function win11MarkAllAsRead() {
        win11Notifications.forEach(n => n.read = true);
        win11UpdateBadge();
        win11SaveNotifications();
    }

    // Clear all notifications
    function win11ClearAllNotifications() {
        win11Notifications = [];
        win11RenderNotifications();
        win11UpdateBadge();
        win11SaveNotifications();
    }

    // Render notifications
    function win11RenderNotifications() {
        const list = document.getElementById('win11-notification-list');
        if (!list) return;
        
        if (win11Notifications.length === 0) {
            list.innerHTML = `
                <div class="win11-notification-empty">
                    <div class="win11-notification-empty-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
                        </svg>
                    </div>
                    <div>No new notifications</div>
                    <div class="win11-notification-empty-subtitle">All caught up!</div>
                </div>
            `;
            return;
        }
        
        list.innerHTML = win11Notifications.map(notification => {
            const actionButtons = notification.actions && notification.actions.length > 0 ? `
                <div class="win11-notification-actions">
                    ${notification.actions.map(action => `
                        <button class="win11-notification-action-btn ${action.type || 'secondary'}" 
                                data-action="${action.action}" 
                                data-notification-id="${notification.id}">
                            ${action.text}
                        </button>
                    `).join('')}
                </div>
            ` : '';
            
            return `
                <div class="win11-notification-item ${notification.read ? '' : 'unread'}" 
                     data-id="${notification.id}">
                    <div class="win11-notification-header-content">
                        <div class="win11-notification-item-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                ${win11GetIconSVG(notification.icon)}
                            </svg>
                        </div>
                        <div class="win11-notification-item-content">
                            <div class="win11-notification-item-title">${notification.title}</div>
                            <div class="win11-notification-item-text">${notification.message}</div>
                            <div class="win11-notification-item-time">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                                ${notification.time}
                            </div>
                        </div>
                    </div>
                    ${actionButtons}
                </div>
            `;
        }).join('');
        
        // Add event listeners
        list.querySelectorAll('.win11-notification-item').forEach(item => {
            const id = parseInt(item.dataset.id);
            
            // Click to mark as read
            item.addEventListener('click', (e) => {
                if (!e.target.closest('.win11-notification-action-btn')) {
                    win11MarkAsRead(id);
                    item.classList.remove('unread');
                }
            });
            
            // Action buttons
            item.querySelectorAll('.win11-notification-action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const action = e.target.dataset.action;
                    const notificationId = parseInt(e.target.dataset.notificationId);
                    win11HandleAction(notificationId, action);
                });
            });
        });
    }

    // Update badge
    function win11UpdateBadge() {
        const badge = document.getElementById('win11-notification-badge');
        if (!badge) return;
        
        const unreadCount = win11Notifications.filter(n => !n.read).length;
        
        if (win11IsDoNotDisturb) {
            badge.style.display = 'none';
            return;
        }
        
        if (unreadCount > 0) {
            badge.textContent = unreadCount > 99 ? '99+' : unreadCount;
            badge.style.display = 'flex';
            
            // Add pulse animation
            badge.classList.add('pulse');
            setTimeout(() => badge.classList.remove('pulse'), 1000);
        } else {
            badge.style.display = 'none';
        }
    }

    // Toggle Do Not Disturb
    function win11ToggleDoNotDisturb() {
        win11IsDoNotDisturb = !win11IsDoNotDisturb;
        win11UpdateDNDUI();
        win11UpdateBadge();
        win11SaveSettings();
        
        if (win11IsDoNotDisturb) {
            // Hide all toasts
            document.querySelectorAll('.win11-toast-notification').forEach(toast => toast.remove());
            
            // Show notification about DND status
            win11AddNotification(
                'Do Not Disturb',
                'Notifications are now silenced',
                'info',
                'settings',
                [{ text: 'Turn off', action: 'toggle-dnd', type: 'primary' }],
                { silent: true }
            );
        }
    }

    // Update DND UI
    function win11UpdateDNDUI() {
        const dndToggle = document.getElementById('win11-dnd-toggle');
        const dndIndicator = document.getElementById('win11-dnd-indicator');
        
        if (dndToggle) {
            dndToggle.classList.toggle('active', win11IsDoNotDisturb);
            dndToggle.innerHTML = `
                <svg viewBox="0 0 24 24" fill="currentColor">
                    ${win11IsDoNotDisturb ? 
                        '<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>' :
                        '<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>'
                    }
                </svg>
                ${win11IsDoNotDisturb ? 'Do not disturb (On)' : 'Do not disturb'}
            `;
        }
        
        if (dndIndicator) {
            dndIndicator.style.display = win11IsDoNotDisturb ? 'flex' : 'none';
        }
    }

    // Handle action
    function win11HandleAction(notificationId, action) {
        console.log(`Action: ${action} for notification ${notificationId}`);
        
        switch (action) {
            case 'toggle-dnd':
                win11ToggleDoNotDisturb();
                break;
            case 'dismiss':
                win11RemoveNotification(notificationId);
                break;
            case 'open-tour':
                // You can add your own function here
                console.log('Opening tour...');
                break;
            default:
                // Custom action handler
                if (typeof window.win11CustomActionHandler === 'function') {
                    window.win11CustomActionHandler(notificationId, action);
                }
        }
    }

    // Get SVG icon
    function win11GetIconSVG(iconName) {
        return WIN11_ICONS[iconName] || WIN11_ICONS.bell;
    }

    // Save notifications
    function win11SaveNotifications() {
        try {
            localStorage.setItem('win11Notifications', JSON.stringify(win11Notifications));
        } catch (e) {
            console.warn('Could not save notifications:', e);
        }
    }

    // Load notifications
    function win11LoadNotifications() {
        try {
            const saved = localStorage.getItem('win11Notifications');
            if (saved) {
                win11Notifications = JSON.parse(saved);
                win11NotificationId = win11Notifications.length > 0 ? 
                    Math.max(...win11Notifications.map(n => n.id)) + 1 : 0;
                win11RenderNotifications();
                win11UpdateBadge();
            }
        } catch (e) {
            console.warn('Could not load notifications:', e);
        }
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
        // Load saved notifications
        win11LoadNotifications();
        
        // Initialize system
        win11Init();
        
        // Test notifications
        setTimeout(() => {
            win11AddNotification(
                'System Update Available',
                'A new security update is ready to install',
                'info',
                'update',
                [
                    { text: 'Install Now', action: 'install-update', type: 'primary' },
                    { text: 'Schedule', action: 'schedule', type: 'secondary' }
                ]
            );
        }, 3000);
        
        setTimeout(() => {
            win11AddNotification(
                'Reminder: Team Meeting',
                'Starts in 15 minutes in Conference Room A',
                'info',
                'calendar',
                [
                    { text: 'Snooze', action: 'snooze', type: 'primary' },
                    { text: 'Dismiss', action: 'dismiss', type: 'secondary' }
                ]
            );
        }, 5000);
    });

    // Export to window object
    window.Win11Notifications = {
        toggle: win11ToggleNotificationCenter,
        add: win11AddNotification,
        remove: win11RemoveNotification,
        clear: win11ClearAllNotifications,
        markAllRead: win11MarkAllAsRead,
        toggleDND: win11ToggleDoNotDisturb,
        showToast: win11ShowToast
    };

})();
</script>
<!-- ORIGINAL TEST ORDER 
<script src="/core/system_apps/mirembecomfort.js"></script>
<script src="/core/boot/boot.js"></script>
<script src="/core/main_settings/await.js"></script>
<script src="/core/boot/screen_pop_ups.js"></script>
<script src="/core/main_settings/animations.js"></script>
<script src="/core/system_apps/inspireboard.js"></script>
<script src="/core/boot/power.js"></script>
<script src="/core/boot/lock_screen.js"></script>

<script src="/core/utilities/appinstall.js"></script>

<script src="/core/main_settings/main.js"></script>

<script src="/core/main_settings/themes.js"></script>
<script src="/core/1.js"></script>


<script src="/core/utilities/window_snap_system.js"></script>
<script src="/core/utilities/permission.js"></script>

<script src="/core/system_apps/quicksettings.js"></script>

<script src="/core/system_apps/analytics.js"></script>
<script src="/core/system_apps/applauncher.js"></script>
<script src="/core/system_apps/appsuggestions.js"></script>
<script src="/core/system_apps/calender.js"></script>
<script src="/core/system_apps/gesturecontrol.js"></script>

  
</script>
<script src="core/system_apps/livecaptionmode.js"></script>

<script src="core/system_apps/voicecontrol.js"></script>

<script src="core/system_apps/File Explorer/file_preview.js"></script>
<script src="core/system_apps/File Explorer/file_upload.js"></script>
<script src="core/system_apps/File Explorer/main.js"></script>
<script src="core/system_apps/File Explorer/music_player.js"></script>

-->
<script>// Desktop Context Menu JavaScript
let currentContextMenu = null;
let selectedIcons = new Set();
let isDragging = false;
let dragStart = { x: 0, y: 0 };
let selectionBox = null;
let lastRightClickTime = 0;

// Initialize Desktop
document.addEventListener('DOMContentLoaded', () => {
    const desktop = document.getElementById('desktop');
    const desktopIcons = document.getElementById('desktop-icons');
    const desktopContextMenu = document.getElementById('desktop-context-menu');
    
    // Create desktop area for right-click detection
    const desktopArea = document.createElement('div');
    desktopArea.className = 'desktop-area';
    desktop.appendChild(desktopArea);
    
    // Create selection box
    selectionBox = document.createElement('div');
    selectionBox.className = 'selection-box';
    selectionBox.style.display = 'none';
    desktop.appendChild(selectionBox);
    
    // Create grid guide
    const gridGuide = document.createElement('div');
    gridGuide.className = 'icon-grid-guide';
    desktop.appendChild(gridGuide);
    
    // Desktop right-click context menu
    desktopArea.addEventListener('contextmenu', (e) => {
        e.preventDefault();
        showDesktopContextMenu(e);
    });
    
    // Handle long press on touch devices
    let longPressTimer;
    desktopArea.addEventListener('touchstart', (e) => {
        if (e.touches.length === 1) {
            const touch = e.touches[0];
            longPressTimer = setTimeout(() => {
                showDesktopContextMenu({ clientX: touch.clientX, clientY: touch.clientY });
                e.preventDefault();
            }, 500);
        }
    });
    
    desktopArea.addEventListener('touchend', () => {
        clearTimeout(longPressTimer);
    });
    
    desktopArea.addEventListener('touchmove', () => {
        clearTimeout(longPressTimer);
    });
    
    // Click outside to close context menu
    document.addEventListener('click', (e) => {
        if (currentContextMenu && !currentContextMenu.contains(e.target)) {
            hideContextMenu();
        }
        // Clear selection when clicking empty area
        if (!e.target.closest('.icon') && !e.target.closest('.selection-box')) {
            clearIconSelection();
        }
    });
    
    // Handle icon click selection
    desktopIcons.addEventListener('click', (e) => {
        const icon = e.target.closest('.icon');
        if (icon && !e.ctrlKey && !e.shiftKey) {
            clearIconSelection();
            selectIcon(icon);
        }
    });
    
    // Handle multiple selection with Ctrl+Click
    desktopIcons.addEventListener('click', (e) => {
        if (e.ctrlKey) {
            const icon = e.target.closest('.icon');
            if (icon) {
                toggleIconSelection(icon);
            }
        }
    });
    
    // Handle drag selection
    desktopArea.addEventListener('mousedown', (e) => {
        if (e.button === 0 && !e.target.closest('.icon')) {
            isDragging = true;
            dragStart.x = e.clientX;
            dragStart.y = e.clientY;
            
            selectionBox.style.left = `${dragStart.x}px`;
            selectionBox.style.top = `${dragStart.y}px`;
            selectionBox.style.width = '0';
            selectionBox.style.height = '0';
            selectionBox.style.display = 'block';
            
            clearIconSelection();
        }
    });
    
    document.addEventListener('mousemove', (e) => {
        if (isDragging) {
            const currentX = e.clientX;
            const currentY = e.clientY;
            
            const left = Math.min(dragStart.x, currentX);
            const top = Math.min(dragStart.y, currentY);
            const width = Math.abs(currentX - dragStart.x);
            const height = Math.abs(currentY - dragStart.y);
            
            selectionBox.style.left = `${left}px`;
            selectionBox.style.top = `${top}px`;
            selectionBox.style.width = `${width}px`;
            selectionBox.style.height = `${height}px`;
            
            // Select icons within selection box
            const icons = document.querySelectorAll('.icon');
            icons.forEach(icon => {
                const rect = icon.getBoundingClientRect();
                if (rect.left < currentX && rect.right > dragStart.x &&
                    rect.top < currentY && rect.bottom > dragStart.y) {
                    selectIcon(icon, true); // Add to selection
                }
            });
        }
    });
    
    document.addEventListener('mouseup', () => {
        if (isDragging) {
            isDragging = false;
            selectionBox.style.display = 'none';
        }
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
        // Select all icons with Ctrl+A
        if (e.ctrlKey && e.key === 'a') {
            e.preventDefault();
            selectAllIcons();
        }
        
        // Delete selected icons with Delete key
        if (e.key === 'Delete' && selectedIcons.size > 0) {
            deleteSelectedIcons();
        }
        
        // Rename selected icon with F2
        if (e.key === 'F2' && selectedIcons.size === 1) {
            renameSelectedIcon();
        }
        
        // Refresh with F5
        if (e.key === 'F5') {
            refreshDesktop();
        }
    });
    
    // Close context menu on Escape
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && currentContextMenu) {
            hideContextMenu();
        }
    });
});

// Show Desktop Context Menu
function showDesktopContextMenu(e) {
    hideContextMenu();
    
    const contextMenu = document.getElementById('desktop-context-menu');
    currentContextMenu = contextMenu;
    
    contextMenu.style.left = `${e.clientX}px`;
    contextMenu.style.top = `${e.clientY}px`;
    contextMenu.classList.add('visible');
    
    // Adjust position if menu goes off screen
    const rect = contextMenu.getBoundingClientRect();
    if (rect.right > window.innerWidth) {
        contextMenu.style.left = `${window.innerWidth - rect.width - 10}px`;
    }
    if (rect.bottom > window.innerHeight) {
        contextMenu.style.top = `${window.innerHeight - rect.height - 10}px`;
    }
}

// Show Icon Context Menu
function showIconContextMenu(e, icon) {
    e.preventDefault();
    hideContextMenu();
    
    if (!selectedIcons.has(icon)) {
        clearIconSelection();
        selectIcon(icon);
    }
    
    // Create dynamic icon context menu
    const contextMenu = document.createElement('div');
    contextMenu.className = 'desktop-context-menu';
    contextMenu.innerHTML = `
        <div class="context-menu-item" onclick="openSelectedIcons()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M4 12h8v1H4zm0-3h8v1H4zm0-3h8v1H4zm0-3h8v1H4z"/>
            </svg>
            Open
        </div>
        <div class="context-menu-item" onclick="renameSelectedIcon()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M13.5 2.5l-1.1 1.1-2.4-2.4 1.1-1.1c.2-.2.5-.2.7 0l1.7 1.7c.2.2.2.5 0 .7zM2 11.9l6.1-6.1 2.4 2.4-6.1 6.1H2v-2.4z"/>
            </svg>
            Rename
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" onclick="cutSelectedIcons()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M10 2H4c-1.1 0-2 .9-2 2v10h2V4h6V2zm4 4H8c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H8V8h6v8z"/>
            </svg>
            Cut
        </div>
        <div class="context-menu-item" onclick="copySelectedIcons()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M14 0H6c-1.1 0-2 .9-2 2v10h2V2h8V0zM10 4H2c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/>
            </svg>
            Copy
        </div>
        <div class="context-menu-item" onclick="createShortcut()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M15 8c0 .28-.22.5-.5.5H13v4.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V8.5H9v5.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V8.5H5v5.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V8.5H1.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5H3V3.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V7h2V1.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V7h2V2.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V7h1.5c.28 0 .5.22.5.5z"/>
            </svg>
            Create shortcut
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" onclick="deleteSelectedIcons()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M5 3V2c0-.55.45-1 1-1h4c.55 0 1 .45 1 1v1h3c.55 0 1 .45 1 1v1H1V4c0-.55.45-1 1-1h3zm10 2H1v9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5z"/>
            </svg>
            Delete
        </div>
        <div class="context-menu-item" onclick="showProperties()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm.5-10h-1v5l3.2 2 .8-1.2-2.5-1.5V4z"/>
            </svg>
            Properties
        </div>
    `;
    
    document.body.appendChild(contextMenu);
    currentContextMenu = contextMenu;
    
    contextMenu.style.left = `${e.clientX}px`;
    contextMenu.style.top = `${e.clientY}px`;
    
    // Adjust position if menu goes off screen
    const rect = contextMenu.getBoundingClientRect();
    if (rect.right > window.innerWidth) {
        contextMenu.style.left = `${window.innerWidth - rect.width - 10}px`;
    }
    if (rect.bottom > window.innerHeight) {
        contextMenu.style.top = `${window.innerHeight - rect.height - 10}px`;
    }
}

// Hide Context Menu
function hideContextMenu() {
    if (currentContextMenu) {
        currentContextMenu.remove();
        currentContextMenu = null;
    }
    const mainMenu = document.getElementById('desktop-context-menu');
    if (mainMenu) {
        mainMenu.classList.remove('visible');
    }
}

// Icon Selection Functions
function selectIcon(icon, addToSelection = false) {
    if (!addToSelection) {
        clearIconSelection();
    }
    
    icon.classList.add('selected');
    selectedIcons.add(icon);
}

function toggleIconSelection(icon) {
    if (selectedIcons.has(icon)) {
        icon.classList.remove('selected');
        selectedIcons.delete(icon);
    } else {
        icon.classList.add('selected');
        selectedIcons.add(icon);
    }
}

function clearIconSelection() {
    selectedIcons.forEach(icon => {
        icon.classList.remove('selected');
    });
    selectedIcons.clear();
}

function selectAllIcons() {
    const icons = document.querySelectorAll('.icon');
    icons.forEach(icon => {
        icon.classList.add('selected');
        selectedIcons.add(icon);
    });
}

// Desktop Functions
function refreshDesktop() {
    // Simulate refresh animation
    document.body.style.opacity = '0.8';
    setTimeout(() => {
        document.body.style.opacity = '1';
        clearIconSelection();
        hideContextMenu();
        console.log('Desktop refreshed');
    }, 300);
}

function createNewFolder() {
    const desktopIcons = document.getElementById('desktop-icons');
    const newFolder = document.createElement('div');
    newFolder.className = 'icon';
    newFolder.innerHTML = `
        <div class="icon-img">
            <svg viewBox="0 0 100 100">
                <rect x="20" y="30" width="60" height="50" rx="4" fill="rgba(255, 193, 7, 0.1)"/>
                <rect x="25" y="25" width="50" height="40" rx="3" fill="rgba(255, 193, 7, 0.3)"/>
                <path d="M40 40 H60 M40 50 H55 M40 60 H50" stroke="#ffc107" stroke-width="3" stroke-linecap="round"/>
            </svg>
        </div>
        <div class="icon-label">New Folder</div>
    `;
    newFolder.addEventListener('click', () => openWindow('folder-win'));
    newFolder.addEventListener('contextmenu', (e) => {
        e.preventDefault();
        showIconContextMenu(e, newFolder);
    });
    desktopIcons.appendChild(newFolder);
    hideContextMenu();
}

function showDisplaySettings() {
    console.log('Display settings opened');
    openWindow('display-settings-win');
    hideContextMenu();
}

function showPersonalization() {
    console.log('Personalization opened');
    openWindow('personalization-win');
    hideContextMenu();
}

function setIconSize(size) {
    const icons = document.querySelectorAll('.icon');
    const desktopIcons = document.getElementById('desktop-icons');
    
    switch(size) {
        case 'small':
            desktopIcons.style.gridTemplateColumns = 'repeat(auto-fill, 60px)';
            desktopIcons.style.gridAutoRows = '60px';
            desktopIcons.style.gap = '8px';
            break;
        case 'medium':
            desktopIcons.style.gridTemplateColumns = 'repeat(auto-fill, 80px)';
            desktopIcons.style.gridAutoRows = '80px';
            desktopIcons.style.gap = '12px';
            break;
        case 'large':
            desktopIcons.style.gridTemplateColumns = 'repeat(auto-fill, 100px)';
            desktopIcons.style.gridAutoRows = '100px';
            desktopIcons.style.gap = '16px';
            break;
    }
    
    hideContextMenu();
}

function sortIcons(criteria) {
    const desktopIcons = document.getElementById('desktop-icons');
    const icons = Array.from(desktopIcons.querySelectorAll('.icon'));
    
    icons.sort((a, b) => {
        const labelA = a.querySelector('.icon-label').textContent.toLowerCase();
        const labelB = b.querySelector('.icon-label').textContent.toLowerCase();
        return labelA.localeCompare(labelB);
    });
    
    // Reorder icons in DOM
    icons.forEach(icon => desktopIcons.appendChild(icon));
    hideContextMenu();
}

function deleteSelectedIcons() {
    if (selectedIcons.size > 0) {
        if (confirm(`Delete ${selectedIcons.size} selected item(s)?`)) {
            selectedIcons.forEach(icon => {
                icon.style.transition = 'all 0.3s ease';
                icon.style.transform = 'scale(0)';
                icon.style.opacity = '0';
                setTimeout(() => icon.remove(), 300);
            });
            selectedIcons.clear();
        }
    }
    hideContextMenu();
}

function renameSelectedIcon() {
    if (selectedIcons.size === 1) {
        const icon = Array.from(selectedIcons)[0];
        const label = icon.querySelector('.icon-label');
        const newName = prompt('Enter new name:', label.textContent);
        if (newName && newName.trim()) {
            label.textContent = newName.trim();
        }
    }
    hideContextMenu();
}

// Window opening function
function openWindow(windowId) {
    console.log(`Opening window: ${windowId}`);
    //window opening logic here
}

// Toggle grid guide
function toggleGridGuide() {
    document.body.classList.toggle('show-grid');
}</script>

</body>
</html>